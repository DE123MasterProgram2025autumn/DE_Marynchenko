# Пояснення щодо різниці між 

# unnest_wider() і unnest_longer() — це функції з пакету tidyr у R, 
# які використовуються для перетворення вкладених стовпців типу списку в довший або ширший формат таблиці. 
# Обидві ці функції перетворюють списки в окремі стовпці, але роблять це по-різному.

# 1. unnest_wider()
# Функція unnest_wider() розгортає елементи списку в кілька нових стовпців. 
# Кожен елемент списку стає новим стовпцем, і кількість нових стовпців буде 
# дорівнювати кількості елементів у найбільшому списку.

# unnest_wider(): Перетворює елементи списку в нові стовпці. Це корисно, 
# коли в кожному елементі списку є декілька значень, 
# і вам потрібно зробити їх окремими стовпцями.
# 
# unnest_longer(): Перетворює елементи списку в нові рядки. 
# Це корисно, коли ви хочете розгорнути дані в більш довгий формат, 
# де кожен елемент списку стає новим рядком.


library(tidyr)
library(dplyr)

# Створюємо tibble зі стовпцем типу список
df <- tibble(
  id = 1:3,
  info = list(
    c("name1", "age1", "city1"),
    c("name2", "age2", "city2"),
    c("name3", "age3", "city3")
  )
)

# Використовуємо unnest_wider(), щоб розділити елементи списку на окремі стовпці
df_wider <- df %>% unnest_wider(info)

df_wider



# 2. unnest_longer()
# Функція unnest_longer() розгортає елементи списку в кілька нових рядків. 
# Кожен елемент списку створює новий рядок у даному стовпці, 
# і інші стовпці будуть повторювати свої значення для кожного нового рядка.

# Використаємо ті ж самі дані
df <- tibble(
  id = 1:3,
  info = list(
    c("name1", "age1", "city1"),
    c("name2", "age2", "city2"),
    c("name3", "age3", "city3")
  )
)

# Використовуємо unnest_longer(), щоб перетворити елементи списку в рядки
df_longer <- df %>% unnest_longer(info)

df_longer













