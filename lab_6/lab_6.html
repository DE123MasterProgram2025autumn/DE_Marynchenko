<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="–°–∏–¥–æ—Ä–µ–Ω–∫–æ –í–∞–ª–µ—Ä—ñ–π">
<meta name="dcterms.date" content="2025-11-06">

<title>–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞ —Ä–æ–±–æ—Ç–∞ ‚Ññ5: –ï—Ñ–µ–∫—Ç–∏–≤–Ω–∞ —Ä–æ–±–æ—Ç–∞ –∑ –≤–µ–ª–∏–∫–∏–º–∏ –¥–∞–Ω–∏–º–∏ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –ø–∞–∫–µ—Ç–∞ data.table</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="lab_6_files/libs/clipboard/clipboard.min.js"></script>
<script src="lab_6_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="lab_6_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="lab_6_files/libs/quarto-html/popper.min.js"></script>
<script src="lab_6_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="lab_6_files/libs/quarto-html/anchor.min.js"></script>
<link href="lab_6_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="lab_6_files/libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="lab_6_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="lab_6_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="lab_6_files/libs/bootstrap/bootstrap-fb20cf6cb377599d9fcbc751916eaf20.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="quarto-light">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-full toc-left">
<div id="quarto-sidebar-toc-left" class="sidebar toc-left">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#–º–µ—Ç–∞-—Ä–æ–±–æ—Ç–∏" id="toc-–º–µ—Ç–∞-—Ä–æ–±–æ—Ç–∏" class="nav-link active" data-scroll-target="#–º–µ—Ç–∞-—Ä–æ–±–æ—Ç–∏">–ú–µ—Ç–∞ —Ä–æ–±–æ—Ç–∏</a></li>
  <li><a href="#—â–æ-–≤–∏-–±—É–¥–µ—Ç–µ-–≤–º—ñ—Ç–∏-–ø—ñ—Å–ª—è-–≤–∏–∫–æ–Ω–∞–Ω–Ω—è-—Ä–æ–±–æ—Ç–∏" id="toc-—â–æ-–≤–∏-–±—É–¥–µ—Ç–µ-–≤–º—ñ—Ç–∏-–ø—ñ—Å–ª—è-–≤–∏–∫–æ–Ω–∞–Ω–Ω—è-—Ä–æ–±–æ—Ç–∏" class="nav-link" data-scroll-target="#—â–æ-–≤–∏-–±—É–¥–µ—Ç–µ-–≤–º—ñ—Ç–∏-–ø—ñ—Å–ª—è-–≤–∏–∫–æ–Ω–∞–Ω–Ω—è-—Ä–æ–±–æ—Ç–∏">–©–æ –≤–∏ –±—É–¥–µ—Ç–µ –≤–º—ñ—Ç–∏ –ø—ñ—Å–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Ä–æ–±–æ—Ç–∏?</a></li>
  <li><a href="#–≤—Å—Ç—É–ø" id="toc-–≤—Å—Ç—É–ø" class="nav-link" data-scroll-target="#–≤—Å—Ç—É–ø">–í—Å—Ç—É–ø</a></li>
  <li><a href="#—Å–∏–Ω—Ç–∞–∫—Å–∏—Å-dti-j-by-—Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è-–æ–±—á–∏—Å–ª–µ–Ω–Ω—è-—Ç–∞-–≥—Ä—É–ø—É–≤–∞–Ω–Ω—è" id="toc-—Å–∏–Ω—Ç–∞–∫—Å–∏—Å-dti-j-by-—Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è-–æ–±—á–∏—Å–ª–µ–Ω–Ω—è-—Ç–∞-–≥—Ä—É–ø—É–≤–∞–Ω–Ω—è" class="nav-link" data-scroll-target="#—Å–∏–Ω—Ç–∞–∫—Å–∏—Å-dti-j-by-—Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è-–æ–±—á–∏—Å–ª–µ–Ω–Ω—è-—Ç–∞-–≥—Ä—É–ø—É–≤–∞–Ω–Ω—è">–°–∏–Ω—Ç–∞–∫—Å–∏—Å <code>DT[i, j, by]</code>: —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è, –æ–±—á–∏—Å–ª–µ–Ω–Ω—è —Ç–∞ –≥—Ä—É–ø—É–≤–∞–Ω–Ω—è</a>
  <ul class="collapse">
  <li><a href="#–ø–µ—Ä–µ–≤–∞–≥–∏-—Å–∏–Ω—Ç–∞–∫—Å–∏—Å—É-dti-j-by" id="toc-–ø–µ—Ä–µ–≤–∞–≥–∏-—Å–∏–Ω—Ç–∞–∫—Å–∏—Å—É-dti-j-by" class="nav-link" data-scroll-target="#–ø–µ—Ä–µ–≤–∞–≥–∏-—Å–∏–Ω—Ç–∞–∫—Å–∏—Å—É-dti-j-by">‚úÖ –ü–µ—Ä–µ–≤–∞–≥–∏ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å—É <code>DT[i, j, by]</code>:</a></li>
  </ul></li>
  <li><a href="#—à–≤–∏–¥–∫–∞-–∞–≥—Ä–µ–≥–∞—Ü—ñ—è-–∑–∞-–≥—Ä—É–ø–∞–º–∏" id="toc-—à–≤–∏–¥–∫–∞-–∞–≥—Ä–µ–≥–∞—Ü—ñ—è-–∑–∞-–≥—Ä—É–ø–∞–º–∏" class="nav-link" data-scroll-target="#—à–≤–∏–¥–∫–∞-–∞–≥—Ä–µ–≥–∞—Ü—ñ—è-–∑–∞-–≥—Ä—É–ø–∞–º–∏">–®–≤–∏–¥–∫–∞ –∞–≥—Ä–µ–≥–∞—Ü—ñ—è –∑–∞ –≥—Ä—É–ø–∞–º–∏</a>
  <ul class="collapse">
  <li><a href="#–ø–µ—Ä–µ–≤–∞–≥–∏-–∞–≥—Ä–µ–≥–∞—Ü—ñ—ó-–≤-data.table" id="toc-–ø–µ—Ä–µ–≤–∞–≥–∏-–∞–≥—Ä–µ–≥–∞—Ü—ñ—ó-–≤-data.table" class="nav-link" data-scroll-target="#–ø–µ—Ä–µ–≤–∞–≥–∏-–∞–≥—Ä–µ–≥–∞—Ü—ñ—ó-–≤-data.table">‚úÖ –ü–µ—Ä–µ–≤–∞–≥–∏ –∞–≥—Ä–µ–≥–∞—Ü—ñ—ó –≤ <code>data.table</code>:</a></li>
  </ul></li>
  <li><a href="#–æ–Ω–æ–≤–ª–µ–Ω–Ω—è-–¥–∞–Ω–∏—Ö-–Ω–∞-–º—ñ—Å—Ü—ñ-by-reference" id="toc-–æ–Ω–æ–≤–ª–µ–Ω–Ω—è-–¥–∞–Ω–∏—Ö-–Ω–∞-–º—ñ—Å—Ü—ñ-by-reference" class="nav-link" data-scroll-target="#–æ–Ω–æ–≤–ª–µ–Ω–Ω—è-–¥–∞–Ω–∏—Ö-–Ω–∞-–º—ñ—Å—Ü—ñ-by-reference">–û–Ω–æ–≤–ª–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö –Ω–∞ –º—ñ—Å—Ü—ñ (by reference)</a>
  <ul class="collapse">
  <li><a href="#–ø–µ—Ä–µ–≤–∞–≥–∏-–æ–Ω–æ–≤–ª–µ–Ω–Ω—è-–Ω–∞-–º—ñ—Å—Ü—ñ" id="toc-–ø–µ—Ä–µ–≤–∞–≥–∏-–æ–Ω–æ–≤–ª–µ–Ω–Ω—è-–Ω–∞-–º—ñ—Å—Ü—ñ" class="nav-link" data-scroll-target="#–ø–µ—Ä–µ–≤–∞–≥–∏-–æ–Ω–æ–≤–ª–µ–Ω–Ω—è-–Ω–∞-–º—ñ—Å—Ü—ñ">‚úÖ –ü–µ—Ä–µ–≤–∞–≥–∏ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –Ω–∞ –º—ñ—Å—Ü—ñ:</a></li>
  </ul></li>
  <li><a href="#–∑–ª–∏—Ç—Ç—è-—Ç–∞–±–ª–∏—Ü—å-—á–µ—Ä–µ–∑-merge-—Ç–∞-–∫–ª—é—á—ñ" id="toc-–∑–ª–∏—Ç—Ç—è-—Ç–∞–±–ª–∏—Ü—å-—á–µ—Ä–µ–∑-merge-—Ç–∞-–∫–ª—é—á—ñ" class="nav-link" data-scroll-target="#–∑–ª–∏—Ç—Ç—è-—Ç–∞–±–ª–∏—Ü—å-—á–µ—Ä–µ–∑-merge-—Ç–∞-–∫–ª—é—á—ñ">–ó–ª–∏—Ç—Ç—è —Ç–∞–±–ª–∏—Ü—å —á–µ—Ä–µ–∑ <code>merge()</code> —Ç–∞ –∫–ª—é—á—ñ</a></li>
  <li><a href="#–ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è-–º—ñ–∂-data.frame-—Ç–∞-data.table" id="toc-–ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è-–º—ñ–∂-data.frame-—Ç–∞-data.table" class="nav-link" data-scroll-target="#–ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è-–º—ñ–∂-data.frame-—Ç–∞-data.table">–ü–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è –º—ñ–∂ <code>data.frame</code> —Ç–∞ <code>data.table</code></a></li>
  <li><a href="#—à–≤–∏–¥–∫–µ-–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è-–≤–µ–ª–∏–∫–∏—Ö-—Ñ–∞–π–ª—ñ–≤-—á–µ—Ä–µ–∑-fread" id="toc-—à–≤–∏–¥–∫–µ-–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è-–≤–µ–ª–∏–∫–∏—Ö-—Ñ–∞–π–ª—ñ–≤-—á–µ—Ä–µ–∑-fread" class="nav-link" data-scroll-target="#—à–≤–∏–¥–∫–µ-–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è-–≤–µ–ª–∏–∫–∏—Ö-—Ñ–∞–π–ª—ñ–≤-—á–µ—Ä–µ–∑-fread">–®–≤–∏–¥–∫–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –≤–µ–ª–∏–∫–∏—Ö —Ñ–∞–π–ª—ñ–≤ —á–µ—Ä–µ–∑ <code>fread()</code></a></li>
  <li><a href="#—ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è-data.table-—É-—Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ-–∫–æ–Ω–≤–µ—î—Ä–∏" id="toc-—ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è-data.table-—É-—Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ-–∫–æ–Ω–≤–µ—î—Ä–∏" class="nav-link" data-scroll-target="#—ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è-data.table-—É-—Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ-–∫–æ–Ω–≤–µ—î—Ä–∏">–Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è <code>data.table</code> —É —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ –∫–æ–Ω–≤–µ—î—Ä–∏</a></li>
  <li><a href="#—Ä–æ–±–æ—á–µ-–∑–∞–≤–¥–∞–Ω–Ω—è" id="toc-—Ä–æ–±–æ—á–µ-–∑–∞–≤–¥–∞–Ω–Ω—è" class="nav-link" data-scroll-target="#—Ä–æ–±–æ—á–µ-–∑–∞–≤–¥–∞–Ω–Ω—è">–†–æ–±–æ—á–µ –∑–∞–≤–¥–∞–Ω–Ω—è</a>
  <ul class="collapse">
  <li><a href="#–≤–∞—Ä—ñ–∞–Ω—Ç–∏-—ñ–Ω–¥–∏–≤—ñ–¥—É–∞–ª—å–Ω–∏—Ö-–∑–∞–≤–¥–∞–Ω—å" id="toc-–≤–∞—Ä—ñ–∞–Ω—Ç–∏-—ñ–Ω–¥–∏–≤—ñ–¥—É–∞–ª—å–Ω–∏—Ö-–∑–∞–≤–¥–∞–Ω—å" class="nav-link" data-scroll-target="#–≤–∞—Ä—ñ–∞–Ω—Ç–∏-—ñ–Ω–¥–∏–≤—ñ–¥—É–∞–ª—å–Ω–∏—Ö-–∑–∞–≤–¥–∞–Ω—å">–í–∞—Ä—ñ–∞–Ω—Ç–∏ —ñ–Ω–¥–∏–≤—ñ–¥—É–∞–ª—å–Ω–∏—Ö –∑–∞–≤–¥–∞–Ω—å</a></li>
  </ul></li>
  <li><a href="#–≤–∞—Ä—ñ–∞–Ω—Ç-1" id="toc-–≤–∞—Ä—ñ–∞–Ω—Ç-1" class="nav-link" data-scroll-target="#–≤–∞—Ä—ñ–∞–Ω—Ç-1">–í–∞—Ä—ñ–∞–Ω—Ç 1</a>
  <ul class="collapse">
  <li><a href="#—Ç–µ–º–∞-–∞–Ω–∞–ª—ñ–∑-–µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ-–∞–≤—ñ–∞–ø–µ—Ä–µ–≤–µ–∑–µ–Ω—å-–∑–∞-2014-—Ä—ñ–∫" id="toc-—Ç–µ–º–∞-–∞–Ω–∞–ª—ñ–∑-–µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ-–∞–≤—ñ–∞–ø–µ—Ä–µ–≤–µ–∑–µ–Ω—å-–∑–∞-2014-—Ä—ñ–∫" class="nav-link" data-scroll-target="#—Ç–µ–º–∞-–∞–Ω–∞–ª—ñ–∑-–µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ-–∞–≤—ñ–∞–ø–µ—Ä–µ–≤–µ–∑–µ–Ω—å-–∑–∞-2014-—Ä—ñ–∫"><strong>–¢–µ–º–∞: –ê–Ω–∞–ª—ñ–∑ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ –∞–≤—ñ–∞–ø–µ—Ä–µ–≤–µ–∑–µ–Ω—å –∑–∞ 2014 —Ä—ñ–∫</strong></a></li>
  <li><a href="#–∑–∞–≤–¥–∞–Ω–Ω—è" id="toc-–∑–∞–≤–¥–∞–Ω–Ω—è" class="nav-link" data-scroll-target="#–∑–∞–≤–¥–∞–Ω–Ω—è">üìå –ó–∞–≤–¥–∞–Ω–Ω—è</a></li>
  <li><a href="#—Ç–µ—Ö–Ω—ñ—á–Ω—ñ-–≤–∏–º–æ–≥–∏" id="toc-—Ç–µ—Ö–Ω—ñ—á–Ω—ñ-–≤–∏–º–æ–≥–∏" class="nav-link" data-scroll-target="#—Ç–µ—Ö–Ω—ñ—á–Ω—ñ-–≤–∏–º–æ–≥–∏">üí° –¢–µ—Ö–Ω—ñ—á–Ω—ñ –≤–∏–º–æ–≥–∏</a></li>
  </ul></li>
  </ul>
</nav>
</div>
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
</div>
<main class="content column-page-right" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">–õ–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞ —Ä–æ–±–æ—Ç–∞ ‚Ññ5: –ï—Ñ–µ–∫—Ç–∏–≤–Ω–∞ —Ä–æ–±–æ—Ç–∞ –∑ –≤–µ–ª–∏–∫–∏–º–∏ –¥–∞–Ω–∏–º–∏ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –ø–∞–∫–µ—Ç–∞ data.table</h1>
<p class="subtitle lead">–Ü–Ω–∂–µ–Ω–µ—Ä—ñ—è –¥–∞–Ω–∏—Ö | –ö—Ä–ù–£ —ñ–º. –ú. –û—Å—Ç—Ä–æ–≥—Ä–∞–¥—Å—å–∫–æ–≥–æ</p>
</div>



<div class="quarto-title-meta column-page-right">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p><a href="https://www.linkedin.com/in/valeriy-sydorenko-6782279a/">–°–∏–¥–æ—Ä–µ–Ω–∫–æ –í–∞–ª–µ—Ä—ñ–π</a> </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">November 6, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="–º–µ—Ç–∞-—Ä–æ–±–æ—Ç–∏" class="level2">
<h2 class="anchored" data-anchor-id="–º–µ—Ç–∞-—Ä–æ–±–æ—Ç–∏">–ú–µ—Ç–∞ —Ä–æ–±–æ—Ç–∏</h2>
<p>–û—Å–≤–æ—ó—Ç–∏ —Å—É—á–∞—Å–Ω–∏–π —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –≤–µ–ª–∏–∫–∏–º–∏ –æ–±—Å—è–≥–∞–º–∏ –¥–∞–Ω–∏—Ö —É R ‚Äî –ø–∞–∫–µ—Ç <code>data.table</code>. –ù–∞–≤—á–∏—Ç–∏—Å—è –≤–∏–∫–æ–Ω—É–≤–∞—Ç–∏ <strong>—à–≤–∏–¥–∫—ñ, –ø–∞–º‚Äô—è—Ç—å-–µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó</strong> –Ω–∞–¥ –º—ñ–ª—å–π–æ–Ω–∞–º–∏ —Ä—è–¥–∫—ñ–≤: —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—é, –∞–≥—Ä–µ–≥–∞—Ü—ñ—é, –æ–Ω–æ–≤–ª–µ–Ω–Ω—è, –∑–ª–∏—Ç—Ç—è ‚Äî –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º <strong>—É–Ω—ñ–∫–∞–ª—å–Ω–æ–≥–æ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å—É <code>DT[i, j, by]</code></strong>. –ó—Ä–æ–∑—É–º—ñ—Ç–∏, —á–æ–º—É <code>data.table</code> —î –∫–ª—é—á–æ–≤–∏–º —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º —ñ–Ω–∂–µ–Ω–µ—Ä–∞ –¥–∞–Ω–∏—Ö –ø—Ä–∏ —Ä–æ–±–æ—Ç—ñ –∑ –≤–µ–ª–∏–∫–∏–º–∏ –¥–∞–Ω–∏–º–∏.</p>
</section>
<section id="—â–æ-–≤–∏-–±—É–¥–µ—Ç–µ-–≤–º—ñ—Ç–∏-–ø—ñ—Å–ª—è-–≤–∏–∫–æ–Ω–∞–Ω–Ω—è-—Ä–æ–±–æ—Ç–∏" class="level2">
<h2 class="anchored" data-anchor-id="—â–æ-–≤–∏-–±—É–¥–µ—Ç–µ-–≤–º—ñ—Ç–∏-–ø—ñ—Å–ª—è-–≤–∏–∫–æ–Ω–∞–Ω–Ω—è-—Ä–æ–±–æ—Ç–∏">–©–æ –≤–∏ –±—É–¥–µ—Ç–µ –≤–º—ñ—Ç–∏ –ø—ñ—Å–ª—è –≤–∏–∫–æ–Ω–∞–Ω–Ω—è —Ä–æ–±–æ—Ç–∏?</h2>
<p>‚úÖ –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ <strong>—Å–∏–Ω—Ç–∞–∫—Å–∏—Å <code>DT[i, j, by]</code></strong> –¥–ª—è —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó (<code>i</code>), –æ–±—á–∏—Å–ª–µ–Ω–Ω—è (<code>j</code>) —Ç–∞ –≥—Ä—É–ø—É–≤–∞–Ω–Ω—è (<code>by</code>).<br>
‚úÖ –í–∏–∫–æ–Ω—É–≤–∞—Ç–∏ <strong>–∞–≥—Ä–µ–≥–∞—Ü—ñ—é —Ç–∞ –ø—ñ–¥—Å—É–º–æ–≤—É–≤–∞–Ω–Ω—è</strong> –∑–∞ –≥—Ä—É–ø–∞–º–∏ –∑—ñ —à–≤–∏–¥–∫—ñ—Å—Ç—é, —è–∫–∞ –ø–µ—Ä–µ–≤–µ—Ä—à—É—î <code>dplyr</code> —É 10‚Äì100 —Ä–∞–∑—ñ–≤.<br>
‚úÖ –û–Ω–æ–≤–ª—é–≤–∞—Ç–∏ –¥–∞–Ω—ñ <strong>–Ω–∞ –º—ñ—Å—Ü—ñ (by reference)</strong> –±–µ–∑ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ–ø—ñ–π ‚Äî —â–æ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –µ–∫–æ–Ω–æ–º—ñ—ó –ø–∞–º‚Äô—è—Ç—ñ.<br>
‚úÖ –í–∏–∫–æ–Ω—É–≤–∞—Ç–∏ <strong>–∑–ª–∏—Ç—Ç—è —Ç–∞–±–ª–∏—Ü—å (<code>merge</code>)</strong> –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º <code>on =</code> –∞–±–æ <code>key</code>.<br>
‚úÖ –ü–µ—Ä–µ—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ <code>data.frame</code> —É <code>data.table</code> —Ç–∞ –Ω–∞–≤–ø–∞–∫–∏ –±–µ–∑ –≤—Ç—Ä–∞—Ç–∏ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ.<br>
‚úÖ –ü—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ <strong>–≤–µ–ª–∏–∫–∏–º–∏ —Ñ–∞–π–ª–∞–º–∏</strong> (CSV, TSV) –Ω–∞–ø—Ä—è–º—É —á–µ—Ä–µ–∑ <code>fread()</code> ‚Äî —à–≤–∏–¥—à–µ –∑–∞ <code>vroom</code> —É –¥–µ—è–∫–∏—Ö —Å—Ü–µ–Ω–∞—Ä—ñ—è—Ö.<br>
‚úÖ –Ü–Ω—Ç–µ–≥—Ä—É–≤–∞—Ç–∏ <code>data.table</code> —É <strong>—Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ –∫–æ–Ω–≤–µ—î—Ä–∏</strong>, –∑–±–µ—Ä—ñ–≥–∞—é—á–∏ —á–∏—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å —Ç–∞ –µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å.</p>
<p>–î–∏–≤. <span class="citation" data-cites="datatable2025">[@datatable2025]</span></p>
</section>
<section id="–≤—Å—Ç—É–ø" class="level2">
<h2 class="anchored" data-anchor-id="–≤—Å—Ç—É–ø">–í—Å—Ç—É–ø</h2>
<p>–£ —Å–≤—ñ—Ç—ñ —ñ–Ω–∂–µ–Ω–µ—Ä—ñ—ó –¥–∞–Ω–∏—Ö —á–∞—Å—Ç–æ –¥–æ–≤–æ–¥–∏—Ç—å—Å—è –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ –æ–±—Å—è–≥–∞–º–∏, —è–∫—ñ <strong>–ø–µ—Ä–µ–≤–∏—â—É—é—Ç—å –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω—É –ø–∞–º‚Äô—è—Ç—å</strong> –∞–±–æ –º—ñ—Å—Ç—è—Ç—å <strong>–º—ñ–ª—å–π–æ–Ω–∏/–º—ñ–ª—å—è—Ä–¥–∏ —Ä—è–¥–∫—ñ–≤</strong>. –£ —Ç–∞–∫–∏—Ö —É–º–æ–≤–∞—Ö –Ω–∞–≤—ñ—Ç—å –Ω–∞–π–µ–ª–µ–≥–∞–Ω—Ç–Ω—ñ—à–∏–π –∫–æ–¥ –Ω–∞ <code>dplyr</code> —Å—Ç–∞—î –ø–æ–≤—ñ–ª—å–Ω–∏–º —ñ —Ä–µ—Å—É—Ä—Å–æ—î–º–Ω–∏–º.</p>
<p>–ü–∞–∫–µ—Ç <code>data.table</code> ‚Äî —Ü–µ <strong>–æ–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–∞ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞</strong> –¥–ª—è —Ç–∞–∫–∏—Ö –∑–∞–≤–¥–∞–Ω—å. –í—ñ–Ω –ø–æ—î–¥–Ω—É—î:<br>
- <strong>–®–≤–∏–¥–∫—ñ—Å—Ç—å C-—Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó</strong> (–±–∞–≥–∞—Ç–æ –æ–ø–µ—Ä–∞—Ü—ñ–π –≤–∏–∫–æ–Ω—É—é—Ç—å—Å—è –∑–∞ <span class="math inline">\(O(1)\)</span> –∞–±–æ <span class="math inline">\(O(log n))\)</span><br>
- <strong>–ï—Ñ–µ–∫—Ç–∏–≤–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –ø–∞–º‚Äô—è—Ç—ñ</strong> (–æ–Ω–æ–≤–ª–µ–Ω–Ω—è –Ω–∞ –º—ñ—Å—Ü—ñ, lazy evaluation)<br>
- <strong>–ö–æ–º–ø–∞–∫—Ç–Ω–∏–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å</strong> (<code>DT[i, j, by]</code> –∑–∞–º—ñ—Å—Ç—å –¥–æ–≤–≥–∏—Ö –∫–æ–Ω–≤–µ—î—Ä—ñ–≤).</p>
<p>–ù–∞ –≤—ñ–¥–º—ñ–Ω—É –≤—ñ–¥ <code>dplyr</code>, —è–∫–∏–π –æ—Ä—ñ—î–Ω—Ç–æ–≤–∞–Ω–∏–π –Ω–∞ <strong>—á–∏—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å</strong>, <code>data.table</code> –æ—Ä—ñ—î–Ω—Ç–æ–≤–∞–Ω–∏–π –Ω–∞ <strong>–ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å —Ç–∞ –º–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω—ñ—Å—Ç—å</strong> ‚Äî —Å–∞–º–µ —Ç–µ, —â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ —ñ–Ω–∂–µ–Ω–µ—Ä—É –¥–∞–Ω–∏—Ö.</p>
<p>–¶—è –ª–∞–±–æ—Ä–∞—Ç–æ—Ä–Ω–∞ —Ä–æ–±–æ—Ç–∞ –∑–Ω–∞–π–æ–º–∏—Ç—å –≤–∞—Å —ñ–∑:</p>
<ul>
<li><p>–±–∞–∑–æ–≤–∏–º —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–æ–º <code>data.table</code></p></li>
<li><p>—Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—î—é, –∞–≥—Ä–µ–≥–∞—Ü—ñ—î—é, –æ–Ω–æ–≤–ª–µ–Ω–Ω—è–º</p></li>
<li><p>–∑–ª–∏—Ç—Ç—è–º —Ç–∞–±–ª–∏—Ü—å</p></li>
<li><p>–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è–º –≤–µ–ª–∏–∫–∏—Ö —Ñ–∞–π–ª—ñ–≤ —á–µ—Ä–µ–∑ <code>fread()</code>.</p></li>
</ul>
<p>–ú–∏ –Ω–∞–≤—á–∏–º–æ—Å—è <strong>—Ä–æ–±–∏—Ç–∏ —Ç–µ —Å–∞–º–µ, —â–æ –π —É <code>dplyr</code></strong>, –∞–ª–µ <strong>–∑–Ω–∞—á–Ω–æ —à–≤–∏–¥—à–µ —ñ –∑ –º–µ–Ω—à–∏–º —Å–ø–æ–∂–∏–≤–∞–Ω–Ω—è–º –ø–∞–º‚Äô—è—Ç—ñ</strong> ‚Äî —â–æ —î –∫—Ä–∏—Ç–∏—á–Ω–∏–º —É production-—Å–µ—Ä–µ–¥–æ–≤–∏—â–∞—Ö.</p>
</section>
<section id="—Å–∏–Ω—Ç–∞–∫—Å–∏—Å-dti-j-by-—Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è-–æ–±—á–∏—Å–ª–µ–Ω–Ω—è-—Ç–∞-–≥—Ä—É–ø—É–≤–∞–Ω–Ω—è" class="level2">
<h2 class="anchored" data-anchor-id="—Å–∏–Ω—Ç–∞–∫—Å–∏—Å-dti-j-by-—Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è-–æ–±—á–∏—Å–ª–µ–Ω–Ω—è-—Ç–∞-–≥—Ä—É–ø—É–≤–∞–Ω–Ω—è">–°–∏–Ω—Ç–∞–∫—Å–∏—Å <code>DT[i, j, by]</code>: —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è, –æ–±—á–∏—Å–ª–µ–Ω–Ω—è —Ç–∞ –≥—Ä—É–ø—É–≤–∞–Ω–Ω—è</h2>
<p>–ü–∞–∫–µ—Ç <code>data.table</code> –≤–≤–æ–¥–∏—Ç—å –∫–æ–º–ø–∞–∫—Ç–Ω–∏–π —ñ —à–≤–∏–¥–∫–∏–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å <code>DT[i, j, by]</code>, —è–∫–∏–π –æ–±‚Äô—î–¥–Ω—É—î —Ç—Ä–∏ –∫–ª—é—á–æ–≤—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó –≤ –æ–¥–Ω–æ–º—É –≤–∏—Ä–∞–∑—ñ:</p>
<ul>
<li><p><strong><code>i</code></strong> ‚Äî —É–º–æ–≤–∞ <strong>—Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—ó —Ä—è–¥–∫—ñ–≤</strong> (–∞–Ω–∞–ª–æ–≥ <code>filter()</code> —É <code>dplyr</code>);</p></li>
<li><p><strong><code>j</code></strong> ‚Äî –≤–∏—Ä–∞–∑ –¥–ª—è <strong>–æ–±—á–∏—Å–ª–µ–Ω–Ω—è –Ω–æ–≤–∏—Ö —Å—Ç–æ–≤–ø—Ü—ñ–≤</strong> –∞–±–æ <strong>–≤–∏–±–æ—Ä—É —ñ—Å–Ω—É—é—á–∏—Ö</strong> (–∞–Ω–∞–ª–æ–≥ <code>select()</code>/<code>mutate()</code>);</p></li>
<li><p><strong><code>by</code></strong> ‚Äî –∑–º—ñ–Ω–Ω—ñ –¥–ª—è <strong>–≥—Ä—É–ø—É–≤–∞–Ω–Ω—è</strong> (–∞–Ω–∞–ª–æ–≥ <code>group_by()</code>).</p></li>
</ul>
<section id="–ø—Ä–∏–∫–ª–∞–¥-1-—Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è-i" class="level4">
<h4 class="anchored" data-anchor-id="–ø—Ä–∏–∫–ª–∞–¥-1-—Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è-i">üîπ –ü—Ä–∏–∫–ª–∞–¥ 1: –§—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è (<code>i</code>)</h4>
<p>–ó–∞–≤–∞–Ω—Ç–∞–∂–∏–º–æ –¥–∞–Ω—ñ:</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(data.table)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>input <span class="ot">&lt;-</span> <span class="cf">if</span> (<span class="fu">file.exists</span>(<span class="st">"flights14.csv"</span>)) {</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>  <span class="st">"flights14.csv"</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"https://raw.githubusercontent.com/Rdatatable/data.table/master/vignettes/flights14.csv"</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>flights <span class="ot">&lt;-</span> <span class="fu">fread</span>(input)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>–¢–µ–ø–µ—Ä –∑–Ω–∞–π–¥–µ–º–æ –≤—Å—ñ —Ä–µ–π—Å–∏ –∞–≤—ñ–∞–∫–æ–º–ø–∞–Ω—ñ—ó <code>"AA"</code> (American Airlines):</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>flights[carrier <span class="sc">==</span> <span class="st">"AA"</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>        year month   day dep_delay arr_delay carrier origin   dest air_time
       &lt;int&gt; &lt;int&gt; &lt;int&gt;     &lt;int&gt;     &lt;int&gt;  &lt;char&gt; &lt;char&gt; &lt;char&gt;    &lt;int&gt;
    1:  2014     1     1        14        13      AA    JFK    LAX      359
    2:  2014     1     1        -3        13      AA    JFK    LAX      363
    3:  2014     1     1         2         9      AA    JFK    LAX      351
    4:  2014     1     1        -8       -26      AA    LGA    PBI      157
    5:  2014     1     1         2         1      AA    JFK    LAX      350
   ---                                                                     
26298:  2014    10    31        -2       -16      AA    LGA    MIA      156
26299:  2014    10    31        -4       -16      AA    EWR    DFW      192
26300:  2014    10    31        -4        -7      AA    JFK    MCO      135
26301:  2014    10    31        29         4      AA    JFK    MIA      146
26302:  2014    10    31        -3        -2      AA    JFK    DCA       51
       distance  hour
          &lt;int&gt; &lt;int&gt;
    1:     2475     9
    2:     2475    11
    3:     2475    19
    4:     1035     7
    5:     2475    13
   ---               
26298:     1096    19
26299:     1372    16
26300:      944     6
26301:     1089    19
26302:      213    15</code></pre>
</div>
</div>
<p>–¶–µ –µ–∫–≤—ñ–≤–∞–ª–µ–Ω—Ç–Ω–æ <code>dplyr::filter(flights, carrier == "AA")</code>, –∞–ª–µ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è <strong>–∑–Ω–∞—á–Ω–æ —à–≤–∏–¥—à–µ</strong>, –æ—Å–∫—ñ–ª—å–∫–∏ <code>data.table</code> –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î <strong>—ñ–Ω–¥–µ–∫—Å–∞—Ü—ñ—é</strong> —Ç–∞ <strong>–æ–ø—Ç–∏–º—ñ–∑–æ–≤–∞–Ω–∏–π C-–∫–æ–¥</strong>.</p>
</section>
<section id="–ø—Ä–∏–∫–ª–∞–¥-2-–æ–±—á–∏—Å–ª–µ–Ω–Ω—è-j" class="level4">
<h4 class="anchored" data-anchor-id="–ø—Ä–∏–∫–ª–∞–¥-2-–æ–±—á–∏—Å–ª–µ–Ω–Ω—è-j">üîπ –ü—Ä–∏–∫–ª–∞–¥ 2: –û–±—á–∏—Å–ª–µ–Ω–Ω—è (<code>j</code>)</h4>
<p>–í–∏–±–µ—Ä–µ–º–æ –ª–∏—à–µ —Å—Ç–æ–≤–ø—Ü—ñ <code>origin</code>, <code>dest</code>, <code>dep_delay</code> —Ç–∞ –æ–±—á–∏—Å–ª–∏–º–æ –Ω–æ–≤–∏–π —Å—Ç–æ–≤–ø–µ—Ü—å ‚Äî <strong>–∑–∞–≥–∞–ª—å–Ω—É —Ç—Ä–∏–≤–∞–ª—ñ—Å—Ç—å –ø–æ–ª—å–æ—Ç—É –≤ —Ö–≤–∏–ª–∏–Ω–∞—Ö</strong>:</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>flights[, .(origin, dest, dep_delay, <span class="at">total_time =</span> air_time <span class="sc">+</span> dep_delay)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>        origin   dest dep_delay total_time
        &lt;char&gt; &lt;char&gt;     &lt;int&gt;      &lt;int&gt;
     1:    JFK    LAX        14        373
     2:    JFK    LAX        -3        360
     3:    JFK    LAX         2        353
     4:    LGA    PBI        -8        149
     5:    JFK    LAX         2        352
    ---                                   
253312:    LGA    IAH         1        202
253313:    EWR    IAH        -5        184
253314:    LGA    RDU        -8         75
253315:    LGA    DTW        -4         71
253316:    LGA    SDF        -5        105</code></pre>
</div>
</div>
<p>–¢—É—Ç:</p>
<ul>
<li><p><code>.()</code> ‚Äî —Å–∫–æ—Ä–æ—á–µ–Ω–Ω—è –¥–ª—è <code>list()</code>, —è–∫–µ —Å—Ç–≤–æ—Ä—é—î –Ω–æ–≤–∏–π <code>data.table</code>;</p></li>
<li><p><code>total_time</code> ‚Äî –Ω–æ–≤–∏–π —Å—Ç–æ–≤–ø–µ—Ü—å, –æ–±—á–∏—Å–ª–µ–Ω–∏–π –Ω–∞ –ª—å–æ—Ç—É.</p></li>
</ul>
<p>–¶–µ –∑–∞–º—ñ–Ω—é—î –∫–æ–º–±—ñ–Ω–∞—Ü—ñ—é <code>select()</code> + <code>mutate()</code> —É <code>dplyr</code>.</p>
</section>
<section id="–ø—Ä–∏–∫–ª–∞–¥-3-–≥—Ä—É–ø—É–≤–∞–Ω–Ω—è-by" class="level4">
<h4 class="anchored" data-anchor-id="–ø—Ä–∏–∫–ª–∞–¥-3-–≥—Ä—É–ø—É–≤–∞–Ω–Ω—è-by">üîπ –ü—Ä–∏–∫–ª–∞–¥ 3: –ì—Ä—É–ø—É–≤–∞–Ω–Ω—è (<code>by</code>)</h4>
<p>–û–±—á–∏—Å–ª–∏–º–æ <strong>—Å–µ—Ä–µ–¥–Ω—î –∑–∞–ø—ñ–∑–Ω–µ–Ω–Ω—è –≤–∏–ª—å–æ—Ç—É</strong> (<code>dep_delay</code>) –∑–∞ –∫–æ–∂–Ω–æ—é –∞–≤—ñ–∞–∫–æ–º–ø–∞–Ω—ñ—î—é:</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>flights[, .(<span class="at">avg_delay =</span> <span class="fu">mean</span>(dep_delay, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)), by <span class="ot">=</span> carrier]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>    carrier avg_delay
     &lt;char&gt;     &lt;num&gt;
 1:      AA  8.510532
 2:      AS  8.831010
 3:      B6 11.991007
 4:      DL 12.209798
 5:      EV 17.561290
 6:      F9 24.712474
 7:      FL 20.596323
 8:      HA  8.488462
 9:      MQ  8.059324
10:      VX 10.375860
11:      WN 18.931524
12:      UA 14.296086
13:      US  3.516000
14:      OO 12.575000</code></pre>
</div>
</div>
<p>–†–µ–∑—É–ª—å—Ç–∞—Ç ‚Äî —Ç–∞–±–ª–∏—Ü—è –∑ –¥–≤–æ–º–∞ —Å—Ç–æ–≤–ø—Ü—è–º–∏: <code>carrier</code> —Ç–∞ <code>avg_delay</code>.</p>
<p>–ú–æ–∂–Ω–∞ –≥—Ä—É–ø—É–≤–∞—Ç–∏ –∑–∞ <strong>–∫—ñ–ª—å–∫–æ–º–∞ –∑–º—ñ–Ω–Ω–∏–º–∏</strong>:</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>flights[, .(<span class="at">avg_delay =</span> <span class="fu">mean</span>(dep_delay, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)), by <span class="ot">=</span> .(carrier, origin)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>    carrier origin avg_delay
     &lt;char&gt; &lt;char&gt;     &lt;num&gt;
 1:      AA    JFK  9.654953
 2:      AA    LGA  6.255840
 3:      AA    EWR 13.343526
 4:      AS    EWR  8.831010
 5:      B6    JFK 12.291613
 6:      B6    EWR 10.267860
 7:      B6    LGA 11.812160
 8:      DL    LGA 11.350830
 9:      DL    EWR 14.961714
10:      DL    JFK 12.454136
11:      EV    EWR 17.194154
12:      EV    LGA 18.327672
13:      F9    LGA 24.712474
14:      FL    LGA 20.596323
15:      HA    JFK  8.488462
16:      MQ    LGA  7.458140
17:      MQ    JFK  9.234019
18:      VX    JFK  9.591460
19:      VX    EWR 12.024939
20:      WN    EWR 19.768463
21:      WN    LGA 18.364482
22:      MQ    EWR 16.377246
23:      EV    JFK 19.818522
24:      UA    EWR 15.124516
25:      UA    LGA 13.080881
26:      UA    JFK  8.595566
27:      US    EWR  5.703736
28:      US    JFK  9.284688
29:      US    LGA  1.363388
30:      OO    LGA 12.592965
31:      OO    EWR  9.000000
32:      VX    LGA -6.266667
    carrier origin avg_delay</code></pre>
</div>
</div>
</section>
<section id="–∫–æ–º–±—ñ–Ω–æ–≤–∞–Ω–∏–π-–ø—Ä–∏–∫–ª–∞–¥" class="level4">
<h4 class="anchored" data-anchor-id="–∫–æ–º–±—ñ–Ω–æ–≤–∞–Ω–∏–π-–ø—Ä–∏–∫–ª–∞–¥">üîπ –ö–æ–º–±—ñ–Ω–æ–≤–∞–Ω–∏–π –ø—Ä–∏–∫–ª–∞–¥</h4>
<p>–ó–Ω–∞–π–¥–µ–º–æ <strong>–º–∞–∫—Å–∏–º–∞–ª—å–Ω–µ –∑–∞–ø—ñ–∑–Ω–µ–Ω–Ω—è –ø—Ä–∏–±—É—Ç—Ç—è</strong> (<code>arr_delay</code>) –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –∞–µ—Ä–æ–ø–æ—Ä—Ç—É –≤–∏–ª—å–æ—Ç—É (<code>origin</code>), –∞–ª–µ <strong>–ª–∏—à–µ –¥–ª—è —Ä–µ–π—Å—ñ–≤ –∑ –∑–∞–ø—ñ–∑–Ω–µ–Ω–Ω—è–º –≤–∏–ª—å–æ—Ç—É &gt; 60 —Ö–≤</strong>:</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>flights[dep_delay <span class="sc">&gt;</span> <span class="dv">60</span>, .(<span class="at">max_arr_delay =</span> <span class="fu">max</span>(arr_delay, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)), by <span class="ot">=</span> origin]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>   origin max_arr_delay
   &lt;char&gt;         &lt;int&gt;
1:    JFK          1223
2:    EWR          1494
3:    LGA           996</code></pre>
</div>
</div>
<p>–¢—É—Ç:</p>
<ul>
<li><p><code>i = dep_delay &gt; 60</code> ‚Äî —Ñ—ñ–ª—å—Ç—Ä–∞—Ü—ñ—è,</p></li>
<li><p><code>j = .(max_arr_delay = ...)</code> ‚Äî –∞–≥—Ä–µ–≥–∞—Ü—ñ—è,</p></li>
<li><p><code>by = origin</code> ‚Äî –≥—Ä—É–ø—É–≤–∞–Ω–Ω—è.</p></li>
</ul>
<hr>
</section>
<section id="–ø–µ—Ä–µ–≤–∞–≥–∏-—Å–∏–Ω—Ç–∞–∫—Å–∏—Å—É-dti-j-by" class="level3">
<h3 class="anchored" data-anchor-id="–ø–µ—Ä–µ–≤–∞–≥–∏-—Å–∏–Ω—Ç–∞–∫—Å–∏—Å—É-dti-j-by">‚úÖ –ü–µ—Ä–µ–≤–∞–≥–∏ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å—É <code>DT[i, j, by]</code>:</h3>
<ul>
<li><p><strong>–ö–æ–º–ø–∞–∫—Ç–Ω—ñ—Å—Ç—å</strong>: –æ–¥–Ω–∞ –ª—ñ–Ω—ñ–π–∫–∞ –∑–∞–º—ñ—Å—Ç—å –∫—ñ–ª—å–∫–æ—Ö —É <code>dplyr</code>.</p></li>
<li><p><strong>–®–≤–∏–¥–∫—ñ—Å—Ç—å</strong>: –æ–ø–µ—Ä–∞—Ü—ñ—ó –≤–∏–∫–æ–Ω—É—é—Ç—å—Å—è –Ω–∞ C-—Ä—ñ–≤–Ω—ñ.</p></li>
<li><p><strong>–ß–∏—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å</strong>: –ª–æ–≥—ñ–∫–∞ ‚Äú—Ñ—ñ–ª—å—Ç—Ä—É–π ‚Üí –æ–±—á–∏—Å–ª–∏ ‚Üí –≥—Ä—É–ø—É–π‚Äù –≤—ñ–¥–æ–±—Ä–∞–∂–µ–Ω–∞ –ø—Ä—è–º–æ –≤ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å—ñ.</p></li>
<li><p><strong>–ï—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å –ø–∞–º‚Äô—è—Ç—ñ</strong>: –Ω–µ–º–∞—î –ø—Ä–æ–º—ñ–∂–Ω–∏—Ö –∫–æ–ø—ñ–π –¥–∞–Ω–∏—Ö.</p></li>
</ul>
<hr>
<p>–¶–µ–π –ø—ñ–¥—Ö—ñ–¥ —î <strong>–æ—Å–Ω–æ–≤–æ—é —ñ–Ω–∂–µ–Ω–µ—Ä—ñ—ó –¥–∞–Ω–∏—Ö —É <code>data.table</code></strong> —ñ –¥–æ–∑–≤–æ–ª—è—î –æ–±—Ä–æ–±–ª—è—Ç–∏ –º—ñ–ª—å–π–æ–Ω–∏ —Ä—è–¥–∫—ñ–≤ –∑–∞ –¥–æ–ª—ñ —Å–µ–∫—É–Ω–¥–∏ ‚Äî —Å–∞–º–µ —Ç–µ, —â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤ production-—Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ.</p>
</section>
</section>
<section id="—à–≤–∏–¥–∫–∞-–∞–≥—Ä–µ–≥–∞—Ü—ñ—è-–∑–∞-–≥—Ä—É–ø–∞–º–∏" class="level2">
<h2 class="anchored" data-anchor-id="—à–≤–∏–¥–∫–∞-–∞–≥—Ä–µ–≥–∞—Ü—ñ—è-–∑–∞-–≥—Ä—É–ø–∞–º–∏">–®–≤–∏–¥–∫–∞ –∞–≥—Ä–µ–≥–∞—Ü—ñ—è –∑–∞ –≥—Ä—É–ø–∞–º–∏</h2>
<p>–£ <code>data.table</code> –∞–≥—Ä–µ–≥–∞—Ü—ñ—è –∑–∞ –≥—Ä—É–ø–∞–º–∏ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è <strong>–∑–Ω–∞—á–Ω–æ —à–≤–∏–¥—à–µ</strong>, –Ω—ñ–∂ —É <code>dplyr</code>, –∑–∞–≤–¥—è–∫–∏ –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ–π –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó —á–µ—Ä–µ–∑ <strong>—Ö–µ—à-—Ç–∞–±–ª–∏—Ü—ñ</strong> —Ç–∞ <strong>–≤–µ–∫—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó</strong>. –°–∏–Ω—Ç–∞–∫—Å–∏—Å –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –∫–æ–º–ø–∞–∫—Ç–Ω–∏–º: –≥—Ä—É–ø—É–≤–∞–Ω–Ω—è –∑–∞–¥–∞—î—Ç—å—Å—è —É —Ç—Ä–µ—Ç—å–æ–º—É –∞—Ä–≥—É–º–µ–Ω—Ç—ñ <code>by</code>.</p>
<section id="–ø—Ä–∏–∫–ª–∞–¥-—Å–µ—Ä–µ–¥–Ω—î-–∑–∞–ø—ñ–∑–Ω–µ–Ω–Ω—è-–≤–∏–ª—å–æ—Ç—É-–∑–∞-–∞–≤—ñ–∞–∫–æ–º–ø–∞–Ω—ñ—î—é" class="level4">
<h4 class="anchored" data-anchor-id="–ø—Ä–∏–∫–ª–∞–¥-—Å–µ—Ä–µ–¥–Ω—î-–∑–∞–ø—ñ–∑–Ω–µ–Ω–Ω—è-–≤–∏–ª—å–æ—Ç—É-–∑–∞-–∞–≤—ñ–∞–∫–æ–º–ø–∞–Ω—ñ—î—é">üîπ –ü—Ä–∏–∫–ª–∞–¥: —Å–µ—Ä–µ–¥–Ω—î –∑–∞–ø—ñ–∑–Ω–µ–Ω–Ω—è –≤–∏–ª—å–æ—Ç—É –∑–∞ –∞–≤—ñ–∞–∫–æ–º–ø–∞–Ω—ñ—î—é</h4>
<p>–¢–µ–ø–µ—Ä –æ–±—á–∏—Å–ª–∏–º–æ —Å–µ—Ä–µ–¥–Ω—î –∑–∞–ø—ñ–∑–Ω–µ–Ω–Ω—è –≤–∏–ª—å–æ—Ç—É (<code>dep_delay</code>) –¥–ª—è –∫–æ–∂–Ω–æ—ó –∞–≤—ñ–∞–∫–æ–º–ø–∞–Ω—ñ—ó (<code>carrier</code>):</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>flights[, .(<span class="at">avg_delay =</span> <span class="fu">mean</span>(dep_delay, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)), by <span class="ot">=</span> carrier]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>    carrier avg_delay
     &lt;char&gt;     &lt;num&gt;
 1:      AA  8.510532
 2:      AS  8.831010
 3:      B6 11.991007
 4:      DL 12.209798
 5:      EV 17.561290
 6:      F9 24.712474
 7:      FL 20.596323
 8:      HA  8.488462
 9:      MQ  8.059324
10:      VX 10.375860
11:      WN 18.931524
12:      UA 14.296086
13:      US  3.516000
14:      OO 12.575000</code></pre>
</div>
</div>
<p>–†–µ–∑—É–ª—å—Ç–∞—Ç ‚Äî –∫–æ–º–ø–∞–∫—Ç–Ω–∞ —Ç–∞–±–ª–∏—Ü—è –∑ –¥–≤–æ–º–∞ —Å—Ç–æ–≤–ø—Ü—è–º–∏: <code>carrier</code> —Ç–∞ <code>avg_delay</code>.</p>
</section>
<section id="–ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è-–∑-dplyr" class="level4">
<h4 class="anchored" data-anchor-id="–ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è-–∑-dplyr">üîπ –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –∑ <code>dplyr</code></h4>
<p>–¢–æ–π —Å–∞–º–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç —É <code>dplyr</code>:</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>flights_df <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(flights)</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>flights_df <span class="sc">%&gt;%</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(carrier) <span class="sc">%&gt;%</span></span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">avg_delay =</span> <span class="fu">mean</span>(dep_delay, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 14 √ó 2
   carrier avg_delay
   &lt;chr&gt;       &lt;dbl&gt;
 1 AA           8.51
 2 AS           8.83
 3 B6          12.0 
 4 DL          12.2 
 5 EV          17.6 
 6 F9          24.7 
 7 FL          20.6 
 8 HA           8.49
 9 MQ           8.06
10 OO          12.6 
11 UA          14.3 
12 US           3.52
13 VX          10.4 
14 WN          18.9 </code></pre>
</div>
</div>
<p>–ê–ª–µ <code>data.table</code>:</p>
<ul>
<li><p><strong>–Ω–µ —Å—Ç–≤–æ—Ä—é—î –ø—Ä–æ–º—ñ–∂–Ω–∏—Ö –∫–æ–ø—ñ–π</strong></p></li>
<li><p><strong>–≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è –≤ 10‚Äì100 —Ä–∞–∑—ñ–≤ —à–≤–∏–¥—à–µ</strong> –Ω–∞ –≤–µ–ª–∏–∫–∏—Ö –¥–∞–Ω–∏—Ö</p></li>
<li><p><strong>–≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –º–µ–Ω—à–µ –ø–∞–º‚Äô—è—Ç—ñ</strong></p></li>
</ul>
</section>
<section id="–∞–≥—Ä–µ–≥–∞—Ü—ñ—è-–∑–∞-–∫—ñ–ª—å–∫–æ–º–∞-–∑–º—ñ–Ω–Ω–∏–º–∏" class="level4">
<h4 class="anchored" data-anchor-id="–∞–≥—Ä–µ–≥–∞—Ü—ñ—è-–∑–∞-–∫—ñ–ª—å–∫–æ–º–∞-–∑–º—ñ–Ω–Ω–∏–º–∏">üîπ –ê–≥—Ä–µ–≥–∞—Ü—ñ—è –∑–∞ –∫—ñ–ª—å–∫–æ–º–∞ –∑–º—ñ–Ω–Ω–∏–º–∏</h4>
<p>–ú–æ–∂–Ω–∞ –≥—Ä—É–ø—É–≤–∞—Ç–∏ –∑–∞ –¥–µ–∫—ñ–ª—å–∫–æ–º–∞ –∑–º—ñ–Ω–Ω–∏–º–∏:</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>flights[, .(<span class="at">avg_delay =</span> <span class="fu">mean</span>(dep_delay, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)), by <span class="ot">=</span> .(carrier, origin)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>    carrier origin avg_delay
     &lt;char&gt; &lt;char&gt;     &lt;num&gt;
 1:      AA    JFK  9.654953
 2:      AA    LGA  6.255840
 3:      AA    EWR 13.343526
 4:      AS    EWR  8.831010
 5:      B6    JFK 12.291613
 6:      B6    EWR 10.267860
 7:      B6    LGA 11.812160
 8:      DL    LGA 11.350830
 9:      DL    EWR 14.961714
10:      DL    JFK 12.454136
11:      EV    EWR 17.194154
12:      EV    LGA 18.327672
13:      F9    LGA 24.712474
14:      FL    LGA 20.596323
15:      HA    JFK  8.488462
16:      MQ    LGA  7.458140
17:      MQ    JFK  9.234019
18:      VX    JFK  9.591460
19:      VX    EWR 12.024939
20:      WN    EWR 19.768463
21:      WN    LGA 18.364482
22:      MQ    EWR 16.377246
23:      EV    JFK 19.818522
24:      UA    EWR 15.124516
25:      UA    LGA 13.080881
26:      UA    JFK  8.595566
27:      US    EWR  5.703736
28:      US    JFK  9.284688
29:      US    LGA  1.363388
30:      OO    LGA 12.592965
31:      OO    EWR  9.000000
32:      VX    LGA -6.266667
    carrier origin avg_delay</code></pre>
</div>
</div>
<p>–¶–µ –¥–∞—Å—Ç—å —Å–µ—Ä–µ–¥–Ω—î –∑–∞–ø—ñ–∑–Ω–µ–Ω–Ω—è –¥–ª—è –∫–æ–∂–Ω–æ—ó –∫–æ–º–±—ñ–Ω–∞—Ü—ñ—ó –∞–≤—ñ–∞–∫–æ–º–ø–∞–Ω—ñ—ó —Ç–∞ –∞–µ—Ä–æ–ø–æ—Ä—Ç—É –≤–∏–ª—å–æ—Ç—É.</p>
</section>
<section id="–≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è-–¥–µ–∫—ñ–ª—å–∫–æ—Ö-–∞–≥—Ä–µ–≥–∞—Ç–Ω–∏—Ö-—Ñ—É–Ω–∫—Ü—ñ–π" class="level4">
<h4 class="anchored" data-anchor-id="–≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è-–¥–µ–∫—ñ–ª—å–∫–æ—Ö-–∞–≥—Ä–µ–≥–∞—Ç–Ω–∏—Ö-—Ñ—É–Ω–∫—Ü—ñ–π">üîπ –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è –¥–µ–∫—ñ–ª—å–∫–æ—Ö –∞–≥—Ä–µ–≥–∞—Ç–Ω–∏—Ö —Ñ—É–Ω–∫—Ü—ñ–π</h4>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>flights[, .(</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">avg_delay =</span> <span class="fu">mean</span>(dep_delay, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">max_delay =</span> <span class="fu">max</span>(dep_delay, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>  <span class="at">n_flights =</span> .N</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>), by <span class="ot">=</span> carrier]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>    carrier avg_delay max_delay n_flights
     &lt;char&gt;     &lt;num&gt;     &lt;int&gt;     &lt;int&gt;
 1:      AA  8.510532      1498     26302
 2:      AS  8.831010       341       574
 3:      B6 11.991007       594     44479
 4:      DL 12.209798      1087     41683
 5:      EV 17.561290       665     39819
 6:      F9 24.712474       417       473
 7:      FL 20.596323       632      1251
 8:      HA  8.488462       922       260
 9:      MQ  8.059324       354     18559
10:      VX 10.375860       430      4797
11:      WN 18.931524       570     11902
12:      UA 14.296086       618     46267
13:      US  3.516000       449     16750
14:      OO 12.575000       414       200</code></pre>
</div>
</div>
<p>–¢—É—Ç:</p>
<ul>
<li><code>.N</code> ‚Äî –≤–±—É–¥–æ–≤–∞–Ω–∞ –∑–º—ñ–Ω–Ω–∞, —â–æ –º—ñ—Å—Ç–∏—Ç—å –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ä—è–¥–∫—ñ–≤ —É –≥—Ä—É–ø—ñ.</li>
</ul>
<hr>
</section>
<section id="–ø–µ—Ä–µ–≤–∞–≥–∏-–∞–≥—Ä–µ–≥–∞—Ü—ñ—ó-–≤-data.table" class="level3">
<h3 class="anchored" data-anchor-id="–ø–µ—Ä–µ–≤–∞–≥–∏-–∞–≥—Ä–µ–≥–∞—Ü—ñ—ó-–≤-data.table">‚úÖ –ü–µ—Ä–µ–≤–∞–≥–∏ –∞–≥—Ä–µ–≥–∞—Ü—ñ—ó –≤ <code>data.table</code>:</h3>
<ul>
<li><p><strong>–®–≤–∏–¥–∫—ñ—Å—Ç—å</strong>: –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è –Ω–∞ —Ä—ñ–≤–Ω—ñ C.</p></li>
<li><p><strong>–ï—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å –ø–∞–º‚Äô—è—Ç—ñ</strong>: –Ω–µ–º–∞—î –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö.</p></li>
<li><p><strong>–ì–Ω—É—á–∫—ñ—Å—Ç—å</strong>: –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ —Å–∫–ª–∞–¥–Ω–∏—Ö –∞–≥—Ä–µ–≥–∞—Ç—ñ–≤ —É –æ–¥–Ω–æ–º—É –≤–∏—Ä–∞–∑—ñ.</p></li>
<li><p><strong>–ú–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω—ñ—Å—Ç—å</strong>: –ø—Ä–∞—Ü—é—î –∑ –º—ñ–ª—å–π–æ–Ω–∞–º–∏/–º—ñ–ª—å—è—Ä–¥–∞–º–∏ —Ä—è–¥–∫—ñ–≤ –±–µ–∑ –ø—Ä–æ–±–ª–µ–º.</p></li>
</ul>
</section>
</section>
<section id="–æ–Ω–æ–≤–ª–µ–Ω–Ω—è-–¥–∞–Ω–∏—Ö-–Ω–∞-–º—ñ—Å—Ü—ñ-by-reference" class="level2">
<h2 class="anchored" data-anchor-id="–æ–Ω–æ–≤–ª–µ–Ω–Ω—è-–¥–∞–Ω–∏—Ö-–Ω–∞-–º—ñ—Å—Ü—ñ-by-reference">–û–Ω–æ–≤–ª–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö –Ω–∞ –º—ñ—Å—Ü—ñ (by reference)</h2>
<p>–û–¥–Ω—ñ—î—é –∑ –∫–ª—é—á–æ–≤–∏—Ö –ø–µ—Ä–µ–≤–∞–≥ <code>data.table</code> —î –º–æ–∂–ª–∏–≤—ñ—Å—Ç—å <strong>–æ–Ω–æ–≤–ª—é–≤–∞—Ç–∏ –¥–∞–Ω—ñ –Ω–∞ –º—ñ—Å—Ü—ñ</strong> (in-place), —Ç–æ–±—Ç–æ <strong>–±–µ–∑ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∫–æ–ø—ñ–π –æ–±‚Äô—î–∫—Ç–∞</strong>. –¶–µ –¥–æ—Å—è–≥–∞—î—Ç—å—Å—è –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞ <code>:=</code>, —è–∫–∏–π –ø—Ä–∞—Ü—é—î <strong>by reference</strong> ‚Äî –ø—Ä—è–º–æ –≤ –ø–∞–º‚Äô—è—Ç—ñ, –±–µ–∑ –¥–æ–¥–∞—Ç–∫–æ–≤–æ–≥–æ –≤–∏–¥—ñ–ª–µ–Ω–Ω—è —Ä–µ—Å—É—Ä—Å—ñ–≤.</p>
<p>–¶–µ –∫—Ä–∏—Ç–∏—á–Ω–æ –≤–∞–∂–ª–∏–≤–æ –ø—Ä–∏ —Ä–æ–±–æ—Ç—ñ –∑ –≤–µ–ª–∏–∫–∏–º–∏ –¥–∞–Ω–∏–º–∏, –¥–µ –∫–æ–∂–Ω–∞ –∫–æ–ø—ñ—è –º–æ–∂–µ –∑–∞–π–º–∞—Ç–∏ –≥—ñ–≥–∞–±–∞–π—Ç–∏ –ø–∞–º‚Äô—è—Ç—ñ.</p>
<section id="–ø—Ä–∏–∫–ª–∞–¥-–¥–æ–¥–∞–≤–∞–Ω–Ω—è-–Ω–æ–≤–æ–≥–æ-—Å—Ç–æ–≤–ø—Ü—è" class="level4">
<h4 class="anchored" data-anchor-id="–ø—Ä–∏–∫–ª–∞–¥-–¥–æ–¥–∞–≤–∞–Ω–Ω—è-–Ω–æ–≤–æ–≥–æ-—Å—Ç–æ–≤–ø—Ü—è">üîπ –ü—Ä–∏–∫–ª–∞–¥: –¥–æ–¥–∞–≤–∞–Ω–Ω—è –Ω–æ–≤–æ–≥–æ —Å—Ç–æ–≤–ø—Ü—è</h4>
<p>–î–æ–¥–∞–º–æ —Å—Ç–æ–≤–ø–µ—Ü—å <code>speed</code> (—à–≤–∏–¥–∫—ñ—Å—Ç—å —É –º–∏–ª—è—Ö –Ω–∞ –≥–æ–¥–∏–Ω—É) –¥–æ –¥–∞—Ç–∞—Å–µ—Ç—É <code>flights</code>:</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># –î–æ–¥–∞—î–º–æ –Ω–æ–≤–∏–π —Å—Ç–æ–≤–ø–µ—Ü—å –ù–ê –ú–Ü–°–¶–Ü</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>flights[, speed <span class="sc">:</span><span class="er">=</span> distance <span class="sc">/</span> (air_time <span class="sc">/</span> <span class="dv">60</span>)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>–ü—ñ—Å–ª—è —Ü—å–æ–≥–æ:</p>
<ul>
<li><p><code>flights</code> –º—ñ—Å—Ç–∏—Ç—å –Ω–æ–≤–∏–π —Å—Ç–æ–≤–ø–µ—Ü—å <code>speed</code></p></li>
<li><p><strong>–Ω–µ —Å—Ç–≤–æ—Ä–µ–Ω–æ –Ω–æ–≤–∏–π –æ–±‚Äô—î–∫—Ç</strong></p></li>
<li><p><strong>–ø–∞–º‚Äô—è—Ç—å –Ω–µ –∑–±—ñ–ª—å—à–∏–ª–∞—Å—è</strong> –ø—Ä–æ–ø–æ—Ä—Ü—ñ–π–Ω–æ —Ä–æ–∑–º—ñ—Ä—É —Ç–∞–±–ª–∏—Ü—ñ.</p></li>
</ul>
</section>
<section id="–ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è-–∑-dplyr-1" class="level4">
<h4 class="anchored" data-anchor-id="–ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è-–∑-dplyr-1">üîπ –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –∑ <code>dplyr</code></h4>
<p>–£ <code>dplyr</code> —Ç–æ–π —Å–∞–º–∏–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤–∏–º–∞–≥–∞—î —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –Ω–æ–≤–æ–≥–æ –æ–±‚Äô—î–∫—Ç–∞:</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>flights_df <span class="ot">&lt;-</span> <span class="fu">as.data.frame</span>(flights)</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>flights_df <span class="ot">&lt;-</span> flights_df <span class="sc">%&gt;%</span> <span class="fu">mutate</span>(<span class="at">speed =</span> distance <span class="sc">/</span> (air_time <span class="sc">/</span> <span class="dv">60</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>–¢—É—Ç:</p>
<ul>
<li><p>—Å—Ç–≤–æ—Ä—é—î—Ç—å—Å—è –Ω–æ–≤–∞ –∫–æ–ø—ñ—è <code>flights_df</code>,</p></li>
<li><p>—Å—Ç–∞—Ä–∞ –≤–µ—Ä—Å—ñ—è –∑–∞–ª–∏—à–∞—î—Ç—å—Å—è –≤ –ø–∞–º‚Äô—è—Ç—ñ, –¥–æ–∫–∏ –Ω–µ –±—É–¥–µ –∑—ñ–±—Ä–∞–Ω–∞ –∑–±–∏—Ä–∞—á–µ–º —Å–º—ñ—Ç—Ç—è,</p></li>
<li><p>–≤–∏—Ç—Ä–∞—á–∞—î—Ç—å—Å—è —á–∞—Å –Ω–∞ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è –º—ñ–ª—å–π–æ–Ω—ñ–≤ –∑–Ω–∞—á–µ–Ω—å.</p></li>
</ul>
</section>
<section id="–æ–Ω–æ–≤–ª–µ–Ω–Ω—è-—ñ—Å–Ω—É—é—á–æ–≥–æ-—Å—Ç–æ–≤–ø—Ü—è" class="level4">
<h4 class="anchored" data-anchor-id="–æ–Ω–æ–≤–ª–µ–Ω–Ω—è-—ñ—Å–Ω—É—é—á–æ–≥–æ-—Å—Ç–æ–≤–ø—Ü—è">üîπ –û–Ω–æ–≤–ª–µ–Ω–Ω—è —ñ—Å–Ω—É—é—á–æ–≥–æ —Å—Ç–æ–≤–ø—Ü—è</h4>
<p>–ú–æ–∂–Ω–∞ —Ç–∞–∫–æ–∂ <strong>–æ–Ω–æ–≤–ª—é–≤–∞—Ç–∏ —ñ—Å–Ω—É—é—á—ñ —Å—Ç–æ–≤–ø—Ü—ñ</strong>:</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="co"># –ó–∞–º—ñ–Ω–∏–º–æ –≤—ñ–¥‚Äô—î–º–Ω—ñ –∑–∞–ø—ñ–∑–Ω–µ–Ω–Ω—è –Ω–∞ 0</span></span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>flights[dep_delay <span class="sc">&lt;</span> <span class="dv">0</span>, dep_delay <span class="sc">:</span><span class="er">=</span> <span class="dv">0</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>–¶–µ ‚Äî <strong>—É–º–æ–≤–Ω–µ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –Ω–∞ –º—ñ—Å—Ü—ñ</strong>, —è–∫–µ –Ω–µ —Å—Ç–≤–æ—Ä—é—î –ø—Ä–æ–º—ñ–∂–Ω–∏—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä.</p>
</section>
<section id="–≤–∏–¥–∞–ª–µ–Ω–Ω—è-—Å—Ç–æ–≤–ø—Ü—ñ–≤" class="level4">
<h4 class="anchored" data-anchor-id="–≤–∏–¥–∞–ª–µ–Ω–Ω—è-—Å—Ç–æ–≤–ø—Ü—ñ–≤">üîπ –í–∏–¥–∞–ª–µ–Ω–Ω—è —Å—Ç–æ–≤–ø—Ü—ñ–≤</h4>
<p>–í–∏–¥–∞–ª–µ–Ω–Ω—è —Å—Ç–æ–≤–ø—Ü—ñ–≤ —Ç–∞–∫–æ–∂ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –Ω–∞ –º—ñ—Å—Ü—ñ:</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>flights[, <span class="fu">c</span>(<span class="st">"hour"</span>) <span class="sc">:</span><span class="er">=</span> <span class="cn">NULL</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<hr>
</section>
<section id="–ø–µ—Ä–µ–≤–∞–≥–∏-–æ–Ω–æ–≤–ª–µ–Ω–Ω—è-–Ω–∞-–º—ñ—Å—Ü—ñ" class="level3">
<h3 class="anchored" data-anchor-id="–ø–µ—Ä–µ–≤–∞–≥–∏-–æ–Ω–æ–≤–ª–µ–Ω–Ω—è-–Ω–∞-–º—ñ—Å—Ü—ñ">‚úÖ –ü–µ—Ä–µ–≤–∞–≥–∏ –æ–Ω–æ–≤–ª–µ–Ω–Ω—è –Ω–∞ –º—ñ—Å—Ü—ñ:</h3>
<ul>
<li><p><strong>–ï–∫–æ–Ω–æ–º—ñ—è –ø–∞–º‚Äô—è—Ç—ñ</strong>: –Ω–µ–º–∞—î –¥—É–±–ª—é–≤–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö.</p></li>
<li><p><strong>–®–≤–∏–¥–∫—ñ—Å—Ç—å</strong>: –æ–ø–µ—Ä–∞—Ü—ñ—ó –≤–∏–∫–æ–Ω—É—é—Ç—å—Å—è –º–∏—Ç—Ç—î–≤–æ, –Ω–∞–≤—ñ—Ç—å –Ω–∞ –º—ñ–ª—å–π–æ–Ω–∞—Ö —Ä—è–¥–∫—ñ–≤.</p></li>
<li><p><strong>–ú–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω—ñ—Å—Ç—å</strong>: –¥–æ–∑–≤–æ–ª—è—î –ø—Ä–∞—Ü—é–≤–∞—Ç–∏ –∑ –¥–∞–Ω–∏–º–∏, —â–æ –ø–µ—Ä–µ–≤–∏—â—É—é—Ç—å RAM.</p></li>
<li><p><strong>–ß–∏—Å—Ç–æ—Ç–∞ –∫–æ–¥—É</strong>: –Ω–µ–º–∞—î –ø–æ—Ç—Ä–µ–±–∏ —É –ø—Ä–∏—Å–≤–æ—î–Ω–Ω—ñ (<code>&lt;-</code>) –ø—ñ—Å–ª—è –∫–æ–∂–Ω–æ—ó –æ–ø–µ—Ä–∞—Ü—ñ—ó.</p></li>
</ul>
</section>
</section>
<section id="–∑–ª–∏—Ç—Ç—è-—Ç–∞–±–ª–∏—Ü—å-—á–µ—Ä–µ–∑-merge-—Ç–∞-–∫–ª—é—á—ñ" class="level2">
<h2 class="anchored" data-anchor-id="–∑–ª–∏—Ç—Ç—è-—Ç–∞–±–ª–∏—Ü—å-—á–µ—Ä–µ–∑-merge-—Ç–∞-–∫–ª—é—á—ñ">–ó–ª–∏—Ç—Ç—è —Ç–∞–±–ª–∏—Ü—å —á–µ—Ä–µ–∑ <code>merge()</code> —Ç–∞ –∫–ª—é—á—ñ</h2>
<p>–£ —Ä–µ–∞–ª—å–Ω–∏—Ö ETL-–ø—Ä–æ—Ü–µ—Å–∞—Ö –¥–∞–Ω—ñ —á–∞—Å—Ç–æ —Ä–æ–∑–ø–æ–¥—ñ–ª–µ–Ω—ñ –º—ñ–∂ –∫—ñ–ª—å–∫–æ–º–∞ —Ç–∞–±–ª–∏—Ü—è–º–∏ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è –ø—Ä–æ —Ä–µ–π—Å–∏, –∞–≤—ñ–∞–∫–æ–º–ø–∞–Ω—ñ—ó, –ª—ñ—Ç–∞–∫–∏, –ø–æ–≥–æ–¥—É). –î–ª—è —ó—Ö –æ–±‚Äô—î–¥–Ω–∞–Ω–Ω—è <code>data.table</code> –Ω–∞–¥–∞—î <strong>–µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ –º–µ—Ö–∞–Ω—ñ–∑–º–∏ –∑–ª–∏—Ç—Ç—è</strong>, —è–∫—ñ –ø—Ä–∞—Ü—é—é—Ç—å —à–≤–∏–¥—à–µ –∑–∞ –∞–Ω–∞–ª–æ–≥–∏ –≤ <code>dplyr</code>.</p>
<section id="–¥–≤–∞-–ø—ñ–¥—Ö–æ–¥–∏-–¥–æ-–∑–ª–∏—Ç—Ç—è" class="level4">
<h4 class="anchored" data-anchor-id="–¥–≤–∞-–ø—ñ–¥—Ö–æ–¥–∏-–¥–æ-–∑–ª–∏—Ç—Ç—è">üîπ –î–≤–∞ –ø—ñ–¥—Ö–æ–¥–∏ –¥–æ –∑–ª–∏—Ç—Ç—è:</h4>
<ol type="1">
<li><p><strong>–ß–µ—Ä–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç <code>on =</code></strong> ‚Äî –Ω–µ –≤–∏–º–∞–≥–∞—î –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–≥–æ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è:</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="co"># –ü—Ä–∏–∫–ª–∞–¥: –¥–æ–¥–∞—î–º–æ –Ω–∞–∑–≤—É –∞–≤—ñ–∞–∫–æ–º–ø–∞–Ω—ñ—ó –¥–æ —Ä–µ–π—Å—ñ–≤</span></span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>airlines <span class="ot">&lt;-</span> <span class="fu">data.table</span>(<span class="at">carrier =</span> <span class="fu">c</span>(<span class="st">"AA"</span>, <span class="st">"UA"</span>, <span class="st">"DL"</span>), </span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>                       <span class="at">name =</span> <span class="fu">c</span>(<span class="st">"American"</span>, <span class="st">"United"</span>, <span class="st">"Delta"</span>))</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a><span class="fu">setkey</span>(airlines, carrier)  <span class="co"># –Ω–µ–æ–±–æ–≤‚Äô—è–∑–∫–æ–≤–æ, –∞–ª–µ –ø—Ä–∏—Å–∫–æ—Ä—é—î</span></span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>flights[airlines, on <span class="ot">=</span> <span class="st">"carrier"</span>, name <span class="sc">:</span><span class="er">=</span> i.name]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>–¢—É—Ç <code>i.name</code> ‚Äî —Ü–µ —Å—Ç–æ–≤–ø–µ—Ü—å <code>name</code> –∑ —Ç–∞–±–ª–∏—Ü—ñ <code>airlines</code> (–ø—Ä–µ—Ñ—ñ–∫—Å <code>i.</code> –ø–æ–∑–Ω–∞—á–∞—î ‚Äú—ñ–Ω—à—É‚Äù —Ç–∞–±–ª–∏—Ü—é).</p></li>
<li><p><strong>–ß–µ—Ä–µ–∑ –∫–ª—é—á—ñ (<code>setkey()</code>)</strong> ‚Äî –¥–ª—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ—ó —à–≤–∏–¥–∫–æ—Å—Ç—ñ:</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setkey</span>(flights, carrier)</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a><span class="fu">setkey</span>(airlines, carrier)</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>merged <span class="ot">&lt;-</span> flights[airlines]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>–ü—ñ—Å–ª—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∫–ª—é—á–∞ –∑–ª–∏—Ç—Ç—è –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è –∑–∞ <strong>–±—ñ–Ω–∞—Ä–Ω–∏–º –ø–æ—à—É–∫–æ–º</strong> (<span class="math inline">\(O(log n)\)</span>), —â–æ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –≤–µ–ª–∏–∫–∏—Ö –¥–∞–Ω–∏—Ö.</p></li>
</ol>
</section>
<section id="—Ç–∏–ø–∏-–∑–ª–∏—Ç—Ç—è" class="level4">
<h4 class="anchored" data-anchor-id="—Ç–∏–ø–∏-–∑–ª–∏—Ç—Ç—è">üîπ –¢–∏–ø–∏ –∑–ª–∏—Ç—Ç—è:</h4>
<ul>
<li><p><strong><code>X[Y]</code></strong> ‚Äî –µ–∫–≤—ñ–≤–∞–ª–µ–Ω—Ç <code>left_join</code> —É <code>dplyr</code> (–∑–±–µ—Ä—ñ–≥–∞—î –≤—Å—ñ —Ä—è–¥–∫–∏ –∑ <code>X</code>).</p></li>
<li><p><strong><code>Y[X]</code></strong> ‚Äî –∑–±–µ—Ä—ñ–≥–∞—î –≤—Å—ñ —Ä—è–¥–∫–∏ –∑ <code>Y</code>.</p></li>
<li><p>–î–ª—è <strong>–≤–Ω—É—Ç—Ä—ñ—à–Ω—å–æ–≥–æ –∑–ª–∏—Ç—Ç—è</strong> –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ <code>nomatch = NULL</code>:</p>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>flights[airlines, nomatch <span class="ot">=</span> <span class="cn">NULL</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>Key: &lt;carrier&gt;
         year month   day dep_delay arr_delay carrier origin   dest air_time
        &lt;int&gt; &lt;int&gt; &lt;int&gt;     &lt;int&gt;     &lt;int&gt;  &lt;char&gt; &lt;char&gt; &lt;char&gt;    &lt;int&gt;
     1:  2014     1     1        14        13      AA    JFK    LAX      359
     2:  2014     1     1         0        13      AA    JFK    LAX      363
     3:  2014     1     1         2         9      AA    JFK    LAX      351
     4:  2014     1     1         0       -26      AA    LGA    PBI      157
     5:  2014     1     1         2         1      AA    JFK    LAX      350
    ---                                                                     
114248:  2014    10    31       427       393      UA    EWR    ORD      100
114249:  2014    10    31        10       -27      UA    EWR    LAX      326
114250:  2014    10    31        18       -14      UA    EWR    LAS      291
114251:  2014    10    31         1       -30      UA    LGA    IAH      201
114252:  2014    10    31         0       -14      UA    EWR    IAH      189
        distance    speed     name   i.name
           &lt;int&gt;    &lt;num&gt;   &lt;char&gt;   &lt;char&gt;
     1:     2475 413.6490 American American
     2:     2475 409.0909 American American
     3:     2475 423.0769 American American
     4:     1035 395.5414 American American
     5:     2475 424.2857 American American
    ---                                    
114248:      719 431.4000   United   United
114249:     2454 451.6564   United   United
114250:     2227 459.1753   United   United
114251:     1416 422.6866   United   United
114252:     1400 444.4444   United   United</code></pre>
</div>
</div></li>
</ul>
</section>
<section id="–ø–µ—Ä–µ–≤–∞–≥–∏-–∑–ª–∏—Ç—Ç—è-–≤-data.table" class="level4">
<h4 class="anchored" data-anchor-id="–ø–µ—Ä–µ–≤–∞–≥–∏-–∑–ª–∏—Ç—Ç—è-–≤-data.table">üîπ –ü–µ—Ä–µ–≤–∞–≥–∏ –∑–ª–∏—Ç—Ç—è –≤ <code>data.table</code>:</h4>
<ul>
<li><p><strong>–®–≤–∏–¥–∫—ñ—Å—Ç—å</strong>: –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è —ñ–Ω–¥–µ–∫—Å—ñ–≤ —Ç–∞ –±—ñ–Ω–∞—Ä–Ω–æ–≥–æ –ø–æ—à—É–∫—É.</p></li>
<li><p><strong>–ï—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å –ø–∞–º‚Äô—è—Ç—ñ</strong>: –Ω–µ–º–∞—î —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –ø—Ä–æ–º—ñ–∂–Ω–∏—Ö –∫–æ–ø—ñ–π –ø—Ä–∏ –æ–Ω–æ–≤–ª–µ–Ω–Ω—ñ –Ω–∞ –º—ñ—Å—Ü—ñ.</p></li>
<li><p><strong>–ì–Ω—É—á–∫—ñ—Å—Ç—å</strong>: –ø—ñ–¥—Ç—Ä–∏–º–∫–∞ —É–º–æ–≤–Ω–∏—Ö –∑–ª–∏—Ç—Ç—ñ–≤ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, <code>on = .(carrier, origin)</code>).</p></li>
</ul>
</section>
</section>
<section id="–ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è-–º—ñ–∂-data.frame-—Ç–∞-data.table" class="level2">
<h2 class="anchored" data-anchor-id="–ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è-–º—ñ–∂-data.frame-—Ç–∞-data.table">–ü–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è –º—ñ–∂ <code>data.frame</code> —Ç–∞ <code>data.table</code></h2>
<p>–ü–∞–∫–µ—Ç <code>data.table</code> –ø–æ–≤–Ω—ñ—Å—Ç—é —Å—É–º—ñ—Å–Ω–∏–π –∑ –±–∞–∑–æ–≤–∏–º –∫–ª–∞—Å–æ–º <code>data.frame</code>, —â–æ –¥–æ–∑–≤–æ–ª—è—î –ª–µ–≥–∫–æ —ñ–Ω—Ç–µ–≥—Ä—É–≤–∞—Ç–∏ –π–æ–≥–æ –≤ —ñ—Å–Ω—É—é—á—ñ –ø—Ä–æ—î–∫—Ç–∏ –±–µ–∑ –ø–æ–≤–Ω–æ–≥–æ –ø–µ—Ä–µ–ø–∏—Å—É–≤–∞–Ω–Ω—è –∫–æ–¥—É. –ö–ª—é—á–æ–≤—ñ —Ñ—É–Ω–∫—Ü—ñ—ó –¥–ª—è –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è:</p>
<ul>
<li><p><strong><code>setDT()</code></strong> ‚Äî –ø–µ—Ä–µ—Ç–≤–æ—Ä—é—î <code>data.frame</code> –Ω–∞ <code>data.table</code> <strong>–Ω–∞ –º—ñ—Å—Ü—ñ</strong> (–±–µ–∑ –∫–æ–ø—ñ—é–≤–∞–Ω–Ω—è).</p></li>
<li><p><strong><code>setDF()</code></strong> ‚Äî –Ω–∞–≤–ø–∞–∫–∏, –ø–µ—Ä–µ—Ç–≤–æ—Ä—é—î <code>data.table</code> –Ω–∞–∑–∞–¥ —É <code>data.frame</code> <strong>–Ω–∞ –º—ñ—Å—Ü—ñ</strong>.</p></li>
<li><p><strong><code>as.data.table()</code></strong> ‚Äî —Å—Ç–≤–æ—Ä—é—î <strong>–Ω–æ–≤–∏–π –æ–±‚Äô—î–∫—Ç</strong> <code>data.table</code> (–∞–Ω–∞–ª–æ–≥ <code>as.data.frame()</code>).</p></li>
</ul>
<section id="–ø—Ä–∏–∫–ª–∞–¥-–ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è-data.frame-data.table" class="level4">
<h4 class="anchored" data-anchor-id="–ø—Ä–∏–∫–ª–∞–¥-–ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è-data.frame-data.table">üîπ –ü—Ä–∏–∫–ª–∞–¥: –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è <code>data.frame</code> ‚Üí <code>data.table</code></h4>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(data.table)</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-3"><a href="#cb28-3" aria-hidden="true" tabindex="-1"></a><span class="co"># –ó–∞–≤–∞–Ω—Ç–∞–∂—É—î–º–æ –¥–∞–Ω—ñ —è–∫ data.frame (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, —á–µ—Ä–µ–∑ read.csv)</span></span>
<span id="cb28-4"><a href="#cb28-4" aria-hidden="true" tabindex="-1"></a>flights_df <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"data/flights14.csv"</span>)</span>
<span id="cb28-5"><a href="#cb28-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-6"><a href="#cb28-6" aria-hidden="true" tabindex="-1"></a><span class="co"># –ü–µ—Ä–µ—Ç–≤–æ—Ä—é—î–º–æ –ù–ê –ú–Ü–°–¶–Ü</span></span>
<span id="cb28-7"><a href="#cb28-7" aria-hidden="true" tabindex="-1"></a><span class="fu">setDT</span>(flights_df)</span>
<span id="cb28-8"><a href="#cb28-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb28-9"><a href="#cb28-9" aria-hidden="true" tabindex="-1"></a><span class="co"># –¢–µ–ø–µ—Ä flights_df ‚Äî —Ü–µ data.table</span></span>
<span id="cb28-10"><a href="#cb28-10" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(flights_df)  <span class="co"># "data.table" "data.frame"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "data.table" "data.frame"</code></pre>
</div>
</div>
<blockquote class="blockquote">
<p>üí° <strong>–ü–µ—Ä–µ–≤–∞–≥–∞ <code>setDT()</code></strong>: –Ω–µ —Å—Ç–≤–æ—Ä—é—î –∫–æ–ø—ñ—ó, —Ç–æ–º—É –ø–∞–º‚Äô—è—Ç—å –Ω–µ –ø–æ–¥–≤–æ—é—î—Ç—å—Å—è ‚Äî –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –≤–µ–ª–∏–∫–∏—Ö –¥–∞–Ω–∏—Ö.</p>
</blockquote>
</section>
<section id="–ø—Ä–∏–∫–ª–∞–¥-–ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è-data.table-data.frame" class="level4">
<h4 class="anchored" data-anchor-id="–ø—Ä–∏–∫–ª–∞–¥-–ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è-data.table-data.frame">üîπ –ü—Ä–∏–∫–ª–∞–¥: –ø–µ—Ä–µ—Ç–≤–æ—Ä–µ–Ω–Ω—è <code>data.table</code> ‚Üí <code>data.frame</code></h4>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="co"># –ü–æ–≤–µ—Ä—Ç–∞—î–º–æ –¥–æ data.frame (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –¥–ª—è —Å—É–º—ñ—Å–Ω–æ—Å—Ç—ñ –∑ ggplot2)</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a><span class="fu">setDF</span>(flights_df)</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a><span class="fu">class</span>(flights_df)  <span class="co"># "data.frame"</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "data.frame"</code></pre>
</div>
</div>
</section>
<section id="–∫–æ–ª–∏-—Ü–µ-–∫–æ—Ä–∏—Å–Ω–æ" class="level4">
<h4 class="anchored" data-anchor-id="–∫–æ–ª–∏-—Ü–µ-–∫–æ—Ä–∏—Å–Ω–æ">üîπ –ö–æ–ª–∏ —Ü–µ –∫–æ—Ä–∏—Å–Ω–æ?</h4>
<ul>
<li><p>–í–∏ –æ—Ç—Ä–∏–º–∞–ª–∏ –¥–∞–Ω—ñ —á–µ—Ä–µ–∑ <code>read.csv()</code> –∞–±–æ <code>vroom()</code> ‚Üí –ø–µ—Ä–µ—Ç–≤–æ—Ä—é—î—Ç–µ –Ω–∞ <code>data.table</code> –¥–ª—è —à–≤–∏–¥–∫–æ—ó –æ–±—Ä–æ–±–∫–∏.</p></li>
<li><p>–ü—ñ—Å–ª—è –æ–±—Ä–æ–±–∫–∏ –≤–∞–º –ø–æ—Ç—Ä—ñ–±–Ω–æ –ø–µ—Ä–µ–¥–∞—Ç–∏ –¥–∞–Ω—ñ –≤ –ø–∞–∫–µ—Ç, —â–æ –Ω–µ –ø—ñ–¥—Ç—Ä–∏–º—É—î <code>data.table</code> (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –¥–µ—è–∫—ñ –º–æ–¥–µ–ª—ñ) ‚Üí –ø–µ—Ä–µ—Ç–≤–æ—Ä—é—î—Ç–µ –Ω–∞–∑–∞–¥.</p></li>
</ul>
</section>
</section>
<section id="—à–≤–∏–¥–∫–µ-–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è-–≤–µ–ª–∏–∫–∏—Ö-—Ñ–∞–π–ª—ñ–≤-—á–µ—Ä–µ–∑-fread" class="level2">
<h2 class="anchored" data-anchor-id="—à–≤–∏–¥–∫–µ-–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è-–≤–µ–ª–∏–∫–∏—Ö-—Ñ–∞–π–ª—ñ–≤-—á–µ—Ä–µ–∑-fread">–®–≤–∏–¥–∫–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –≤–µ–ª–∏–∫–∏—Ö —Ñ–∞–π–ª—ñ–≤ —á–µ—Ä–µ–∑ <code>fread()</code></h2>
<p>–§—É–Ω–∫—Ü—ñ—è <code>fread()</code> ‚Äî —Ü–µ –æ–¥–∏–Ω —ñ–∑ –Ω–∞–π—à–≤–∏–¥—à–∏—Ö —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤ —É R –¥–ª—è —á–∏—Ç–∞–Ω–Ω—è —Ç–µ–∫—Å—Ç–æ–≤–∏—Ö —Ñ–∞–π–ª—ñ–≤ (CSV, TSV, —ñ–Ω—à—ñ —Ä–æ–∑–¥—ñ–ª—å–Ω–∏–∫–∏). –í–æ–Ω–∞ —î —á–∞—Å—Ç–∏–Ω–æ—é –ø–∞–∫–µ—Ç–∞ <code>data.table</code> —ñ –ø—Ä–∏–∑–Ω–∞—á–µ–Ω–∞ –¥–ª—è <strong>–º–∞—Å—à—Ç–∞–±–æ–≤–∞–Ω–æ–≥–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö</strong>, –Ω–∞–≤—ñ—Ç—å –∫–æ–ª–∏ —Ñ–∞–π–ª–∏ –º–∞—é—Ç—å <strong>–≥—ñ–≥–∞–±–∞–π—Ç–∏</strong>.</p>
<section id="–∫–ª—é—á–æ–≤—ñ-–ø–µ—Ä–µ–≤–∞–≥–∏-fread" class="level4">
<h4 class="anchored" data-anchor-id="–∫–ª—é—á–æ–≤—ñ-–ø–µ—Ä–µ–≤–∞–≥–∏-fread">üîπ –ö–ª—é—á–æ–≤—ñ –ø–µ—Ä–µ–≤–∞–≥–∏ <code>fread()</code>:</h4>
<ul>
<li><p><strong>–ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è</strong>: —Ä–æ–∑–¥—ñ–ª—å–Ω–∏–∫–∞, –∑–∞–≥–æ–ª–æ–≤–∫—ñ–≤, —Ç–∏–ø—ñ–≤ –¥–∞–Ω–∏—Ö.</p></li>
<li><p><strong>–ü—ñ–¥—Ç—Ä–∏–º–∫–∞ URL</strong>: –º–æ–∂–Ω–∞ —á–∏—Ç–∞—Ç–∏ —Ñ–∞–π–ª–∏ –ø—Ä—è–º–æ –∑ GitHub, S3 —Ç–æ—â–æ.</p></li>
<li><p><strong>–ß–∞—Å—Ç–∫–æ–≤–µ —á–∏—Ç–∞–Ω–Ω—è</strong>: –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –ª–∏—à–µ –ø–µ—Ä—à—ñ <code>n</code> —Ä—è–¥–∫—ñ–≤ (<code>nrows</code>), –ø—Ä–æ–ø—É—Å—Ç–∏—Ç–∏ –ø–µ—Ä—à—ñ <code>skip</code> —Ä—è–¥–∫—ñ–≤.</p></li>
<li><p><strong>–ü—ñ–¥—Ç—Ä–∏–º–∫–∞ —Å—Ç–∏—Å–Ω–µ–Ω–∏—Ö —Ñ–∞–π–ª—ñ–≤</strong>: <code>.csv.gz</code>, <code>.csv.bz2</code> –±–µ–∑ –ø–æ–ø–µ—Ä–µ–¥–Ω—å–æ–≥–æ —Ä–æ–∑–ø–∞–∫—É–≤–∞–Ω–Ω—è.</p></li>
<li><p><strong>–®–≤–∏–¥–∫—ñ—Å—Ç—å</strong>: —á–∞—Å—Ç–æ –ø–µ—Ä–µ–≤–µ—Ä—à—É—î <code>vroom</code> —É —Å–∫–ª–∞–¥–Ω–∏—Ö —Å—Ü–µ–Ω–∞—Ä—ñ—è—Ö (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, –∫–æ–ª–∏ —î –±–∞–≥–∞—Ç–æ <code>NA</code>, –Ω–µ—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ñ —Ä–æ–∑–¥—ñ–ª—å–Ω–∏–∫–∏).</p></li>
</ul>
</section>
<section id="–ø—Ä–∏–∫–ª–∞–¥-–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è-–¥–∞–Ω–∏—Ö-–ø—Ä–æ-—Ä–µ–π—Å–∏" class="level4">
<h4 class="anchored" data-anchor-id="–ø—Ä–∏–∫–ª–∞–¥-–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è-–¥–∞–Ω–∏—Ö-–ø—Ä–æ-—Ä–µ–π—Å–∏">üîπ –ü—Ä–∏–∫–ª–∞–¥: –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö –ø—Ä–æ —Ä–µ–π—Å–∏</h4>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(data.table)</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a><span class="co"># –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑ –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ —Ñ–∞–π–ª—É –∞–±–æ –∑ GitHub</span></span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a>input <span class="ot">&lt;-</span> <span class="cf">if</span> (<span class="fu">file.exists</span>(<span class="st">"flights14.csv"</span>)) {</span>
<span id="cb32-5"><a href="#cb32-5" aria-hidden="true" tabindex="-1"></a>  <span class="st">"flights14.csv"</span></span>
<span id="cb32-6"><a href="#cb32-6" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb32-7"><a href="#cb32-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"https://raw.githubusercontent.com/Rdatatable/data.table/master/vignettes/flights14.csv"</span></span>
<span id="cb32-8"><a href="#cb32-8" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb32-9"><a href="#cb32-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-10"><a href="#cb32-10" aria-hidden="true" tabindex="-1"></a>flights <span class="ot">&lt;-</span> <span class="fu">fread</span>(input)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>–¶–µ–π –∫–æ–¥:</p>
<ul>
<li><p>–∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –≤–∏–∑–Ω–∞—á–∏—Ç—å, —â–æ —Ü–µ CSV –∑ –∑–∞–≥–æ–ª–æ–≤–∫–æ–º,</p></li>
<li><p>–ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤–∏–∑–Ω–∞—á–∏—Ç—å —Ç–∏–ø–∏ (<code>integer</code>, <code>character</code>, —Ç–æ—â–æ),</p></li>
<li><p>–∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç—å 253 316 —Ä—è–¥–∫—ñ–≤ –∑–∞ <strong>–¥–æ–ª—ñ —Å–µ–∫—É–Ω–¥–∏</strong>.</p></li>
</ul>
</section>
<section id="–ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è-–∑-read.csv-—Ç–∞-vroom" class="level4">
<h4 class="anchored" data-anchor-id="–ø–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è-–∑-read.csv-—Ç–∞-vroom">üîπ –ü–æ—Ä—ñ–≤–Ω—è–Ω–Ω—è –∑ <code>read.csv()</code> —Ç–∞ <code>vroom()</code></h4>
<ul>
<li><p><code>read.csv()</code> ‚Äî –ø–æ–≤—ñ–ª—å–Ω–∏–π, —Å—Ç–≤–æ—Ä—é—î <code>data.frame</code>, –≤–∏–º–∞–≥–∞—î —Ä—É—á–Ω–æ–≥–æ –≤–∫–∞–∑—É–≤–∞–Ω–Ω—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ñ–≤.</p></li>
<li><p><code>vroom()</code> ‚Äî —à–≤–∏–¥–∫–∏–π, –∞–ª–µ —ñ–Ω–æ–¥—ñ –º–µ–Ω—à –Ω–∞–¥—ñ–π–Ω–∏–π –ø—Ä–∏ —Å–∫–ª–∞–¥–Ω–∏—Ö —Å—Ç—Ä—É–∫—Ç—É—Ä–∞—Ö.</p></li>
<li><p><code>fread()</code> ‚Äî <strong>–Ω–∞–π–±—ñ–ª—å—à –Ω–∞–¥—ñ–π–Ω–∏–π —ñ —à–≤–∏–¥–∫–∏–π</strong> –¥–ª—è ETL-–ø—Ä–æ—Ü–µ—Å—ñ–≤ —É production.</p></li>
</ul>
</section>
<section id="–¥–æ–¥–∞—Ç–∫–æ–≤—ñ-–º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ" class="level4">
<h4 class="anchored" data-anchor-id="–¥–æ–¥–∞—Ç–∫–æ–≤—ñ-–º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ">üîπ –î–æ–¥–∞—Ç–∫–æ–≤—ñ –º–æ–∂–ª–∏–≤–æ—Å—Ç—ñ</h4>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="co"># –ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –ª–∏—à–µ –ø–µ—Ä—à—ñ 1000 —Ä—è–¥–∫—ñ–≤</span></span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a><span class="fu">fread</span>(input, <span class="at">nrows =</span> <span class="dv">1000</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>       year month   day dep_delay arr_delay carrier origin   dest air_time
      &lt;int&gt; &lt;int&gt; &lt;int&gt;     &lt;int&gt;     &lt;int&gt;  &lt;char&gt; &lt;char&gt; &lt;char&gt;    &lt;int&gt;
   1:  2014     1     1        14        13      AA    JFK    LAX      359
   2:  2014     1     1        -3        13      AA    JFK    LAX      363
   3:  2014     1     1         2         9      AA    JFK    LAX      351
   4:  2014     1     1        -8       -26      AA    LGA    PBI      157
   5:  2014     1     1         2         1      AA    JFK    LAX      350
  ---                                                                     
 996:  2014     1     2        -1        -9      DL    JFK    SLC      282
 997:  2014     1     2       202       213      DL    EWR    ATL      137
 998:  2014     1     2        18        43      DL    LGA    DEN      235
 999:  2014     1     2         0        29      DL    EWR    ATL      142
1000:  2014     1     2        -1         3      DL    EWR    ATL      127
      distance  hour
         &lt;int&gt; &lt;int&gt;
   1:     2475     9
   2:     2475    11
   3:     2475    19
   4:     1035     7
   5:     2475    13
  ---               
 996:     1990     6
 997:      746     9
 998:     1620     8
 999:      746    14
1000:      746    11</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># –ü—Ä–æ–ø—É—Å—Ç–∏—Ç–∏ –ø–µ—Ä—à—ñ 100 —Ä—è–¥–∫—ñ–≤</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a><span class="fu">fread</span>(input, <span class="at">skip =</span> <span class="dv">100</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>           V1    V2    V3    V4    V5     V6     V7     V8    V9   V10   V11
        &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;char&gt; &lt;char&gt; &lt;char&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;
     1:  2014     1     1    -3   -10     B6    JFK    SAN   342  2446     8
     2:  2014     1     1    -9   -14     B6    JFK    FLL   159  1069    19
     3:  2014     1     1    -7    -2     B6    JFK    PBI   159  1028     6
     4:  2014     1     1    19    20     B6    LGA    PBI   155  1035    14
     5:  2014     1     1     4    18     B6    LGA    FLL   165  1076    21
    ---                                                                     
253213:  2014    10    31     1   -30     UA    LGA    IAH   201  1416    14
253214:  2014    10    31    -5   -14     UA    EWR    IAH   189  1400     8
253215:  2014    10    31    -8    16     MQ    LGA    RDU    83   431    11
253216:  2014    10    31    -4    15     MQ    LGA    DTW    75   502    11
253217:  2014    10    31    -5     1     MQ    LGA    SDF   110   659     8</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># –í–∫–∞–∑–∞—Ç–∏ —Ä–æ–∑–¥—ñ–ª—å–Ω–∏–∫ —è–≤–Ω–æ (—è–∫—â–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è –Ω–µ —Å–ø—Ä–∞—Ü—é–≤–∞–ª–æ)</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a><span class="fu">fread</span>(input, <span class="at">sep =</span> <span class="st">"</span><span class="sc">\t</span><span class="st">"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>        year,month,day,dep_delay,arr_delay,carrier,origin,dest,air_time,distance,hour
                                                                               &lt;char&gt;
     1:                                          2014,1,1,14,13,AA,JFK,LAX,359,2475,9
     2:                                         2014,1,1,-3,13,AA,JFK,LAX,363,2475,11
     3:                                           2014,1,1,2,9,AA,JFK,LAX,351,2475,19
     4:                                         2014,1,1,-8,-26,AA,LGA,PBI,157,1035,7
     5:                                           2014,1,1,2,1,AA,JFK,LAX,350,2475,13
    ---                                                                              
253312:                                       2014,10,31,1,-30,UA,LGA,IAH,201,1416,14
253313:                                       2014,10,31,-5,-14,UA,EWR,IAH,189,1400,8
253314:                                         2014,10,31,-8,16,MQ,LGA,RDU,83,431,11
253315:                                         2014,10,31,-4,15,MQ,LGA,DTW,75,502,11
253316:                                          2014,10,31,-5,1,MQ,LGA,SDF,110,659,8</code></pre>
</div>
</div>
<p>–¶–µ —Ä–æ–±–∏—Ç—å <code>fread()</code> <strong>—ñ–¥–µ–∞–ª—å–Ω–∏–º —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º –¥–ª—è –ø–µ—Ä—à–æ–≥–æ –µ—Ç–∞–ø—É ETL-–∫–æ–Ω–≤–µ—î—Ä–∞</strong> ‚Äî –∫–æ–ª–∏ –ø–æ—Ç—Ä—ñ–±–Ω–æ —à–≤–∏–¥–∫–æ —ñ –Ω–∞–¥—ñ–π–Ω–æ –æ—Ç—Ä–∏–º–∞—Ç–∏ –¥–∞–Ω—ñ –¥–ª—è –ø–æ–¥–∞–ª—å—à–æ—ó –æ–±—Ä–æ–±–∫–∏.</p>
</section>
</section>
<section id="—ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è-data.table-—É-—Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ-–∫–æ–Ω–≤–µ—î—Ä–∏" class="level2">
<h2 class="anchored" data-anchor-id="—ñ–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è-data.table-—É-—Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ-–∫–æ–Ω–≤–µ—î—Ä–∏">–Ü–Ω—Ç–µ–≥—Ä–∞—Ü—ñ—è <code>data.table</code> —É —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ –∫–æ–Ω–≤–µ—î—Ä–∏</h2>
<p>–•–æ—á–∞ <code>data.table</code> –Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –æ–ø–µ—Ä–∞—Ç–æ—Ä <code>%&gt;%</code> –∑–∞ –∑–∞–º–æ–≤—á—É–≤–∞–Ω–Ω—è–º (—á–µ—Ä–µ–∑ —Å–≤–æ—é –≤–ª–∞—Å–Ω—É –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—é —á–µ—Ä–µ–∑ <code>[...]</code>), –π–æ–≥–æ –º–æ–∂–Ω–∞ –ª–µ–≥–∫–æ —ñ–Ω—Ç–µ–≥—Ä—É–≤–∞—Ç–∏ –≤ <strong>—Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—å–Ω—ñ –∫–æ–Ω–≤–µ—î—Ä–∏</strong>, –∑–±–µ—Ä—ñ–≥–∞—é—á–∏ —è–∫ <strong>—á–∏—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å</strong>, —Ç–∞–∫ —ñ <strong>–ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å</strong>.</p>
<section id="–ø—Ä–∏–∫–ª–∞–¥-–ª–∞–Ω—Ü—é–∂–æ–∫-–æ–ø–µ—Ä–∞—Ü—ñ–π-–±–µ–∑" class="level4">
<h4 class="anchored" data-anchor-id="–ø—Ä–∏–∫–ª–∞–¥-–ª–∞–Ω—Ü—é–∂–æ–∫-–æ–ø–µ—Ä–∞—Ü—ñ–π-–±–µ–∑">üîπ –ü—Ä–∏–∫–ª–∞–¥: –ª–∞–Ω—Ü—é–∂–æ–∫ –æ–ø–µ—Ä–∞—Ü—ñ–π –±–µ–∑ <code>%&gt;%</code></h4>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># –û–±—á–∏—Å–ª–∏—Ç–∏ —Å–µ—Ä–µ–¥–Ω—î –∑–∞–ø—ñ–∑–Ω–µ–Ω–Ω—è –≤–∏–ª—å–æ—Ç—É –∑–∞ –∞–≤—ñ–∞–∫–æ–º–ø–∞–Ω—ñ—î—é –¥–ª—è —Ä–µ–π—Å—ñ–≤ –∑ JFK</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>result <span class="ot">&lt;-</span> flights[origin <span class="sc">==</span> <span class="st">"JFK"</span>, .(<span class="at">avg_delay =</span> <span class="fu">mean</span>(dep_delay, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)), by <span class="ot">=</span> carrier]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>–¶–µ–π –∫–æ–¥ –≤–∂–µ —î <strong>–∫–æ–º–ø–∞–∫—Ç–Ω–∏–º —ñ —à–≤–∏–¥–∫–∏–º</strong>, –∞–ª–µ —ñ–Ω–æ–¥—ñ –±–∞–∂–∞–Ω–æ –ø–æ—î–¥–Ω–∞—Ç–∏ <code>data.table</code> –∑ —ñ–Ω—à–∏–º–∏ –ø–∞–∫–µ—Ç–∞–º–∏ (<code>ggplot2</code>, <code>purrr</code>, —Ç–æ—â–æ).</p>
</section>
<section id="–ø—Ä–∏–∫–ª–∞–¥-–ø–æ—î–¥–Ω–∞–Ω–Ω—è-–∑-—è–∫—â–æ-–ø–æ—Ç—Ä—ñ–±–Ω–æ" class="level4">
<h4 class="anchored" data-anchor-id="–ø—Ä–∏–∫–ª–∞–¥-–ø–æ—î–¥–Ω–∞–Ω–Ω—è-–∑-—è–∫—â–æ-–ø–æ—Ç—Ä—ñ–±–Ω–æ">üîπ –ü—Ä–∏–∫–ª–∞–¥: –ø–æ—î–¥–Ω–∞–Ω–Ω—è –∑ <code>%&gt;%</code> (—è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ)</h4>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr) <span class="co"># –¥–ª—è %&gt;% (—Ö–æ—á–∞ —Ç–µ—Ö–Ω—ñ—á–Ω–æ –≤—ñ–Ω –∑ magrittr)</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>flights <span class="sc">%&gt;%</span></span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>  .[origin <span class="sc">==</span> <span class="st">"JFK"</span>] <span class="sc">%&gt;%</span></span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>  .[, .(<span class="at">avg_delay =</span> <span class="fu">mean</span>(dep_delay, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)), by <span class="ot">=</span> carrier] <span class="sc">%&gt;%</span></span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>  .[<span class="fu">order</span>(<span class="sc">-</span>avg_delay)]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>   carrier avg_delay
    &lt;char&gt;     &lt;num&gt;
1:      EV 19.818522
2:      DL 12.454136
3:      B6 12.291613
4:      AA  9.654953
5:      VX  9.591460
6:      US  9.284688
7:      MQ  9.234019
8:      UA  8.595566
9:      HA  8.488462</code></pre>
</div>
</div>
<p>–¢—É—Ç <code>.</code> –ø–æ–∑–Ω–∞—á–∞—î –ø–æ—Ç–æ—á–Ω–∏–π –æ–±‚Äô—î–∫—Ç —É –∫–æ–Ω–≤–µ—î—Ä—ñ. –¶–µ –¥–æ–∑–≤–æ–ª—è—î –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ <code>%&gt;%</code> —Ä–∞–∑–æ–º —ñ–∑ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–æ–º <code>data.table</code>.</p>
</section>
<section id="–ø—Ä–∏–∫–ª–∞–¥-–ø–µ—Ä–µ–¥–∞—á–∞-—Ä–µ–∑—É–ª—å—Ç–∞—Ç—É-–≤-ggplot2" class="level4">
<h4 class="anchored" data-anchor-id="–ø—Ä–∏–∫–ª–∞–¥-–ø–µ—Ä–µ–¥–∞—á–∞-—Ä–µ–∑—É–ª—å—Ç–∞—Ç—É-–≤-ggplot2">üîπ –ü—Ä–∏–∫–ª–∞–¥: –ø–µ—Ä–µ–¥–∞—á–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—É –≤ <code>ggplot2</code></h4>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>flights[origin <span class="sc">==</span> <span class="st">"JFK"</span>, .(<span class="at">avg_delay =</span> <span class="fu">mean</span>(dep_delay, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)), by <span class="ot">=</span> carrier] <span class="sc">%&gt;%</span></span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(carrier, avg_delay), <span class="at">y =</span> avg_delay)) <span class="sc">+</span></span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">title =</span> <span class="st">"–°–µ—Ä–µ–¥–Ω—î –∑–∞–ø—ñ–∑–Ω–µ–Ω–Ω—è –≤–∏–ª—å–æ—Ç—É –∑ JFK –∑–∞ –∞–≤—ñ–∞–∫–æ–º–ø–∞–Ω—ñ—î—é"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="lab_6_files/figure-html/unnamed-chunk-24-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="–∫–æ–ª–∏-–≤–∞—Ä—Ç–æ-—É–Ω–∏–∫–∞—Ç–∏" class="level4">
<h4 class="anchored" data-anchor-id="–∫–æ–ª–∏-–≤–∞—Ä—Ç–æ-—É–Ω–∏–∫–∞—Ç–∏">üîπ –ö–æ–ª–∏ –≤–∞—Ä—Ç–æ —É–Ω–∏–∫–∞—Ç–∏ <code>%&gt;%</code>?</h4>
<ul>
<li><p>–ö–æ–ª–∏ –≤–∏–∫–æ–Ω—É—î—Ç—å—Å—è <strong>–±–∞–≥–∞—Ç–æ –ø–æ—Å–ª—ñ–¥–æ–≤–Ω–∏—Ö –æ–ø–µ—Ä–∞—Ü—ñ–π <code>data.table</code></strong> ‚Äî –∫—Ä–∞—â–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ <strong>–ª–∞–Ω—Ü—é–∂–∫–∏ —á–µ—Ä–µ–∑ <code>[...]</code></strong> –∞–±–æ <strong>–ø—Ä–æ–º—ñ–∂–Ω—ñ –∑–º—ñ–Ω–Ω—ñ</strong>, —â–æ–± –Ω–µ –≤—Ç—Ä–∞—á–∞—Ç–∏ –ø–µ—Ä–µ–≤–∞–≥–∏ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó.</p></li>
<li><p>–ö–æ–ª–∏ –≤–∞–∂–ª–∏–≤–∞ <strong>–º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ —à–≤–∏–¥–∫—ñ—Å—Ç—å</strong> ‚Äî –∫–æ–∂–µ–Ω <code>%&gt;%</code> –¥–æ–¥–∞—î –Ω–∞–∫–ª–∞–¥–Ω—ñ –≤–∏—Ç—Ä–∞—Ç–∏.</p></li>
</ul>
</section>
<section id="–±–∞–ª–∞–Ω—Å-—á–∏—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å-vs-–ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å" class="level4">
<h4 class="anchored" data-anchor-id="–±–∞–ª–∞–Ω—Å-—á–∏—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å-vs-–ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å">üîπ –ë–∞–ª–∞–Ω—Å: —á–∏—Ç–∞–±–µ–ª—å–Ω—ñ—Å—Ç—å vs –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω—ñ—Å—Ç—å</h4>
<ul>
<li><p>–î–ª—è <strong>—ñ–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–≥–æ –∞–Ω–∞–ª—ñ–∑—É</strong> ‚Äî –º–æ–∂–Ω–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ <code>%&gt;%</code> –¥–ª—è –∑—Ä—É—á–Ω–æ—Å—Ç—ñ.</p></li>
<li><p>–î–ª—è <strong>production-–∫–æ–¥—É</strong> ‚Äî –∫—Ä–∞—â–µ –ø–∏—Å–∞—Ç–∏ —á–∏—Å—Ç–∏–π <code>data.table</code> –±–µ–∑ <code>%&gt;%</code>.</p></li>
</ul>
<p>–¶—è –≥–Ω—É—á–∫—ñ—Å—Ç—å —Ä–æ–±–∏—Ç—å <code>data.table</code> <strong>—ñ–¥–µ–∞–ª—å–Ω–∏–º —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º –¥–ª—è —ñ–Ω–∂–µ–Ω–µ—Ä–∞ –¥–∞–Ω–∏—Ö</strong>, —è–∫–∏–π –ø—Ä–∞—Ü—é—î –≤ –≥–µ—Ç–µ—Ä–æ–≥–µ–Ω–Ω–æ–º—É —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ, –∞–ª–µ –ø–æ—Ç—Ä–µ–±—É—î –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ –Ω–∞ –∫–ª—é—á–æ–≤–∏—Ö –µ—Ç–∞–ø–∞—Ö ETL-–∫–æ–Ω–≤–µ—î—Ä–∞.</p>
</section>
</section>
<section id="—Ä–æ–±–æ—á–µ-–∑–∞–≤–¥–∞–Ω–Ω—è" class="level2">
<h2 class="anchored" data-anchor-id="—Ä–æ–±–æ—á–µ-–∑–∞–≤–¥–∞–Ω–Ω—è">–†–æ–±–æ—á–µ –∑–∞–≤–¥–∞–Ω–Ω—è</h2>
<ul>
<li>–í–∏–∫–æ–Ω–∞—Ç–∏ <a href="#–≤–∞—Ä—ñ–∞–Ω—Ç–∏-—ñ–Ω–¥–∏–≤—ñ–¥—É–∞–ª—å–Ω–∏—Ö-–∑–∞–≤–¥–∞–Ω—å">–Ü–Ω–¥–∏–≤—ñ–¥—É–∞–ª—å–Ω–µ –∑–∞–≤–¥–∞–Ω–Ω—è</a></li>
<li>–ö–æ–¥ —Ä–æ–∑–º—ñ—Å—Ç–∏—Ç–∏ –Ω–∏–∂—á–µ:</li>
</ul>
<section id="–≤–∞—Ä—ñ–∞–Ω—Ç–∏-—ñ–Ω–¥–∏–≤—ñ–¥—É–∞–ª—å–Ω–∏—Ö-–∑–∞–≤–¥–∞–Ω—å" class="level3">
<h3 class="anchored" data-anchor-id="–≤–∞—Ä—ñ–∞–Ω—Ç–∏-—ñ–Ω–¥–∏–≤—ñ–¥—É–∞–ª—å–Ω–∏—Ö-–∑–∞–≤–¥–∞–Ω—å">–í–∞—Ä—ñ–∞–Ω—Ç–∏ —ñ–Ω–¥–∏–≤—ñ–¥—É–∞–ª—å–Ω–∏—Ö –∑–∞–≤–¥–∞–Ω—å</h3>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p><em>–í–∞—Ä—ñ–∞–Ω—Ç–∏ –≤–∏–±–∏—Ä–∞—é—Ç—å—Å—è –ø–æ –∫–æ–ª—É, –≤—ñ–¥—à—Ç–æ–≤—Ö—É—é—á–∏—Å—å –≤—ñ–¥ –Ω–æ–º–µ—Ä–∞ —Å—Ç—É–¥–µ–Ω—Ç–∞ —É —Å–ø–∏—Å–∫—É –≥—Ä—É–ø–∏.</em></p>
</div>
</div>
</section>
</section>
<section id="–≤–∞—Ä—ñ–∞–Ω—Ç-1" class="level2">
<h2 class="anchored" data-anchor-id="–≤–∞—Ä—ñ–∞–Ω—Ç-1">–í–∞—Ä—ñ–∞–Ω—Ç 1</h2>
<section id="—Ç–µ–º–∞-–∞–Ω–∞–ª—ñ–∑-–µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ-–∞–≤—ñ–∞–ø–µ—Ä–µ–≤–µ–∑–µ–Ω—å-–∑–∞-2014-—Ä—ñ–∫" class="level3">
<h3 class="anchored" data-anchor-id="—Ç–µ–º–∞-–∞–Ω–∞–ª—ñ–∑-–µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ-–∞–≤—ñ–∞–ø–µ—Ä–µ–≤–µ–∑–µ–Ω—å-–∑–∞-2014-—Ä—ñ–∫"><strong>–¢–µ–º–∞: –ê–Ω–∞–ª—ñ–∑ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ –∞–≤—ñ–∞–ø–µ—Ä–µ–≤–µ–∑–µ–Ω—å –∑–∞ 2014 —Ä—ñ–∫</strong></h3>
<p>–í–∏ –æ—Ç—Ä–∏–º–∞–ª–∏ <strong>–æ–¥–∏–Ω –≤–µ–ª–∏–∫–∏–π —Ñ–∞–π–ª</strong> <code>flights14.csv</code> (253 316 —Ä—è–¥–∫—ñ–≤), —è–∫–∏–π –º—ñ—Å—Ç–∏—Ç—å –¥–∞–Ω—ñ –ø—Ä–æ –≤—Å—ñ —Ä–µ–π—Å–∏, —â–æ –≤–∏–ª—ñ—Ç–∞–ª–∏ –∑ –∞–µ—Ä–æ–ø–æ—Ä—Ç—ñ–≤ –ù—å—é-–ô–æ—Ä–∫–∞ —É 2014 —Ä–æ—Ü—ñ (–¥–∞–Ω—ñ –∑ <code>nycflights14</code>). –¢–∞–∫–æ–∂ —É –≤–∞—Å —î <strong>–¥–æ–≤—ñ–¥–Ω–∏–∫ –∞–≤—ñ–∞–∫–æ–º–ø–∞–Ω—ñ–π</strong> <code>airlines.csv</code> –∑ –ø–æ–≤–Ω–∏–º–∏ –Ω–∞–∑–≤–∞–º–∏ –ø–µ—Ä–µ–≤—ñ–∑–Ω–∏–∫—ñ–≤.</p>
<p>–í–∞—à–µ –∑–∞–≤–¥–∞–Ω–Ω—è ‚Äî –ø—Ä–æ–≤–µ—Å—Ç–∏ <strong>–ø–æ–≤–Ω–∏–π –∞–Ω–∞–ª—ñ–∑ –ø—Ä–æ–¥—É–∫—Ç–∏–≤–Ω–æ—Å—Ç—ñ –∞–≤—ñ–∞–∫–æ–º–ø–∞–Ω—ñ–π</strong> –≤–∏–∫–ª—é—á–Ω–æ –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é <code>data.table</code>.</p>
<hr>
</section>
<section id="–∑–∞–≤–¥–∞–Ω–Ω—è" class="level3">
<h3 class="anchored" data-anchor-id="–∑–∞–≤–¥–∞–Ω–Ω—è">üìå –ó–∞–≤–¥–∞–Ω–Ω—è</h3>
<section id="–µ—Ç–∞–ø-1-–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è-–¥–∞–Ω–∏—Ö" class="level4">
<h4 class="anchored" data-anchor-id="–µ—Ç–∞–ø-1-–∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è-–¥–∞–Ω–∏—Ö"><strong>–ï—Ç–∞–ø 1: –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö</strong></h4>
<ul>
<li>–ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ <code>flights14.csv</code> —á–µ—Ä–µ–∑ <code>fread()</code>.</li>
<li>–ó–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ <code>airlines.csv</code> —á–µ—Ä–µ–∑ <code>fread()</code>.</li>
<li>–ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –æ–±–∏–¥–≤–∞ –æ–±‚Äô—î–∫—Ç–∏ —î <code>data.table</code>.</li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>flights <span class="ot">&lt;-</span> <span class="fu">fread</span>(<span class="st">"data/flights14.csv"</span>)</span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">class</span>(flights))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "data.table" "data.frame"</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>airlines <span class="ot">&lt;-</span> <span class="fu">data.table</span>(</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">carrier =</span> <span class="fu">c</span>(<span class="st">"9E"</span>, <span class="st">"AA"</span>, <span class="st">"AS"</span>, <span class="st">"B6"</span>, <span class="st">"DL"</span>, <span class="st">"EV"</span>, <span class="st">"F9"</span>, <span class="st">"FL"</span>, <span class="st">"HA"</span>, <span class="st">"MQ"</span>, <span class="st">"OO"</span>, <span class="st">"UA"</span>, <span class="st">"US"</span>, <span class="st">"VX"</span>, <span class="st">"WN"</span>, <span class="st">"YV"</span>),</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">name =</span> <span class="fu">c</span>(<span class="st">"Endeavor Air Inc."</span>, <span class="st">"American Airlines Inc."</span>, <span class="st">"Alaska Airlines Inc."</span>, <span class="st">"JetBlue Airways"</span>, <span class="st">"Delta Air Lines Inc."</span>, <span class="st">"ExpressJet Airlines Inc."</span>, <span class="st">"Frontier Airlines Inc."</span>, <span class="st">"AirTran Airways Corp."</span>, <span class="st">"Hawaiian Airlines Inc."</span>, <span class="st">"Envoy Air"</span>, <span class="st">"SkyWest Airlines Inc."</span>, <span class="st">"United Air Lines Inc."</span>, <span class="st">"US Airways Inc."</span>, <span class="st">"Virgin America"</span>, <span class="st">"Southwest Airlines Co."</span>, <span class="st">"Mesa Airlines Inc."</span>)</span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"loaded airlines:"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "loaded airlines:"</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">class</span>(airlines))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "data.table" "data.frame"</code></pre>
</div>
</div>
</section>
<section id="–µ—Ç–∞–ø-2-–ø—ñ–¥–≥–æ—Ç–æ–≤–∫–∞-–¥–∞–Ω–∏—Ö" class="level4">
<h4 class="anchored" data-anchor-id="–µ—Ç–∞–ø-2-–ø—ñ–¥–≥–æ—Ç–æ–≤–∫–∞-–¥–∞–Ω–∏—Ö"><strong>–ï—Ç–∞–ø 2: –ü—ñ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–∏—Ö</strong></h4>
<ul>
<li>–î–æ–¥–∞–π—Ç–µ —Å—Ç–æ–≤–ø–µ—Ü—å <code>total_delay = dep_delay + arr_delay</code> <strong>–Ω–∞ –º—ñ—Å—Ü—ñ</strong> —á–µ—Ä–µ–∑ <code>:=</code>.</li>
<li>–ó–∞–º—ñ–Ω—ñ—Ç—å –≤—ñ–¥‚Äô—î–º–Ω—ñ –∑–Ω–∞—á–µ–Ω–Ω—è <code>total_delay</code> –Ω–∞ 0 (—Ä–µ–π—Å –≤—á–∞—Å–Ω–æ).</li>
<li>–í–∏–¥–∞–ª—ñ—Ç—å —Å—Ç–æ–≤–ø—Ü—ñ <code>year</code>, <code>month</code>, <code>day</code> <strong>–Ω–∞ –º—ñ—Å—Ü—ñ</strong>.</li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>flights[, total_delay <span class="sc">:</span><span class="er">=</span> dep_delay <span class="sc">+</span> arr_delay]</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>flights[total_delay <span class="sc">&lt;</span> <span class="dv">0</span>, total_delay <span class="sc">:</span><span class="er">=</span> <span class="dv">0</span>]</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>flights[, <span class="fu">c</span>(<span class="st">"year"</span>, <span class="st">"month"</span>, <span class="st">"day"</span>) <span class="sc">:</span><span class="er">=</span> <span class="cn">NULL</span>]</span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"–ü–µ—Ä—à—ñ 5 —Ä—è–¥–∫—ñ–≤ –ø—ñ—Å–ª—è –ø—ñ–¥–≥–æ—Ç–æ–≤–∫–∏:"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "–ü–µ—Ä—à—ñ 5 —Ä—è–¥–∫—ñ–≤ –ø—ñ—Å–ª—è –ø—ñ–¥–≥–æ—Ç–æ–≤–∫–∏:"</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="fu">head</span>(flights))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>      V1 dep_delay arr_delay carrier origin   dest air_time distance  hour
   &lt;int&gt;     &lt;int&gt;     &lt;int&gt;  &lt;char&gt; &lt;char&gt; &lt;char&gt;    &lt;int&gt;    &lt;int&gt; &lt;int&gt;
1:     1        14        13      AA    JFK    LAX      359     2475     9
2:     2        -3        13      AA    JFK    LAX      363     2475    11
3:     3         2         9      AA    JFK    LAX      351     2475    19
4:     4        -8       -26      AA    LGA    PBI      157     1035     7
5:     5         2         1      AA    JFK    LAX      350     2475    13
6:     6         4         0      AA    EWR    LAX      339     2454    18
   total_delay
         &lt;int&gt;
1:          27
2:          10
3:          11
4:           0
5:           3
6:           4</code></pre>
</div>
</div>
</section>
<section id="–µ—Ç–∞–ø-3-–∞–≥—Ä–µ–≥–∞—Ü—ñ—è-–∑–∞-–∞–≤—ñ–∞–∫–æ–º–ø–∞–Ω—ñ—è–º–∏" class="level4">
<h4 class="anchored" data-anchor-id="–µ—Ç–∞–ø-3-–∞–≥—Ä–µ–≥–∞—Ü—ñ—è-–∑–∞-–∞–≤—ñ–∞–∫–æ–º–ø–∞–Ω—ñ—è–º–∏"><strong>–ï—Ç–∞–ø 3: –ê–≥—Ä–µ–≥–∞—Ü—ñ—è –∑–∞ –∞–≤—ñ–∞–∫–æ–º–ø–∞–Ω—ñ—è–º–∏</strong></h4>
<ul>
<li>–û–±—á–∏—Å–ª—ñ—Ç—å –¥–ª—è –∫–æ–∂–Ω–æ—ó –∞–≤—ñ–∞–∫–æ–º–ø–∞–Ω—ñ—ó (<code>carrier</code>):
<ul>
<li>–∫—ñ–ª—å–∫—ñ—Å—Ç—å —Ä–µ–π—Å—ñ–≤ (<code>.N</code>),</li>
<li>—Å–µ—Ä–µ–¥–Ω—î <code>total_delay</code>,</li>
<li>—á–∞—Å—Ç–∫—É —Ä–µ–π—Å—ñ–≤ –∑ <code>total_delay &gt; 60</code> —Ö–≤.</li>
</ul></li>
<li>–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ <code>by = carrier</code>.</li>
<li>–í—ñ–¥—Å–æ—Ä—Ç—É–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∑–∞ —Å–ø–∞–¥–∞–Ω–Ω—è–º —Å–µ—Ä–µ–¥–Ω—å–æ–≥–æ –∑–∞–ø—ñ–∑–Ω–µ–Ω–Ω—è —á–µ—Ä–µ–∑ <code>keyby</code>.</li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>carrier_performance <span class="ot">&lt;-</span> flights[, .(</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>  <span class="at">n_flights =</span> .N,</span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">avg_total_delay =</span> <span class="fu">mean</span>(total_delay, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># piece of deleyed reises</span></span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">delay_fraction =</span> <span class="fu">sum</span>(total_delay <span class="sc">&gt;</span> <span class="dv">60</span>, <span class="at">na.rm =</span> <span class="cn">TRUE</span>) <span class="sc">/</span> .N</span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>), by <span class="ot">=</span> carrier]</span>
<span id="cb53-7"><a href="#cb53-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-8"><a href="#cb53-8" aria-hidden="true" tabindex="-1"></a><span class="fu">setorder</span>(carrier_performance, <span class="sc">-</span>avg_total_delay)</span>
<span id="cb53-9"><a href="#cb53-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb53-10"><a href="#cb53-10" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"Agregation:"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Agregation:"</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(carrier_performance)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>    carrier n_flights avg_total_delay delay_fraction
     &lt;char&gt;     &lt;int&gt;           &lt;num&gt;          &lt;num&gt;
 1:      F9       473        56.80761     0.29598309
 2:      FL      1251        43.98881     0.20383693
 3:      EV     39819        40.74389     0.20382230
 4:      WN     11902        39.04159     0.17786927
 5:      OO       200        34.36000     0.14500000
 6:      B6     44479        31.48522     0.14633872
 7:      HA       260        31.48077     0.10384615
 8:      UA     46267        31.12713     0.14688655
 9:      DL     41683        28.87165     0.11863350
10:      MQ     18559        27.21327     0.14294951
11:      VX      4797        26.31478     0.10298103
12:      AA     26302        26.15915     0.11539046
13:      AS       574        25.48955     0.10627178
14:      US     16750        16.78149     0.08226866</code></pre>
</div>
</div>
</section>
<section id="–µ—Ç–∞–ø-4-–∑–ª–∏—Ç—Ç—è-–∑-–¥–æ–≤—ñ–¥–Ω–∏–∫–æ–º" class="level4">
<h4 class="anchored" data-anchor-id="–µ—Ç–∞–ø-4-–∑–ª–∏—Ç—Ç—è-–∑-–¥–æ–≤—ñ–¥–Ω–∏–∫–æ–º"><strong>–ï—Ç–∞–ø 4: –ó–ª–∏—Ç—Ç—è –∑ –¥–æ–≤—ñ–¥–Ω–∏–∫–æ–º</strong></h4>
<ul>
<li>–û–±‚Äô—î–¥–Ω–∞–π—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –∑ <code>airlines</code> —á–µ—Ä–µ–∑ <code>on = "carrier"</code>, —â–æ–± –¥–æ–¥–∞—Ç–∏ –ø–æ–≤–Ω—É –Ω–∞–∑–≤—É –∞–≤—ñ–∞–∫–æ–º–ø–∞–Ω—ñ—ó.</li>
<li>–ó–±–µ—Ä–µ–∂—ñ—Ç—å —É –∑–º—ñ–Ω–Ω—É <code>carrier_performance</code>.</li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a><span class="fu">setkey</span>(airlines, carrier)</span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>carrier_performance[airlines, name <span class="sc">:</span><span class="er">=</span> i.name, on <span class="ot">=</span> <span class="st">"carrier"</span>]</span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb57-5"><a href="#cb57-5" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"result after join:"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "result after join:"</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(carrier_performance)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>    carrier n_flights avg_total_delay delay_fraction                     name
     &lt;char&gt;     &lt;int&gt;           &lt;num&gt;          &lt;num&gt;                   &lt;char&gt;
 1:      F9       473        56.80761     0.29598309   Frontier Airlines Inc.
 2:      FL      1251        43.98881     0.20383693    AirTran Airways Corp.
 3:      EV     39819        40.74389     0.20382230 ExpressJet Airlines Inc.
 4:      WN     11902        39.04159     0.17786927   Southwest Airlines Co.
 5:      OO       200        34.36000     0.14500000    SkyWest Airlines Inc.
 6:      B6     44479        31.48522     0.14633872          JetBlue Airways
 7:      HA       260        31.48077     0.10384615   Hawaiian Airlines Inc.
 8:      UA     46267        31.12713     0.14688655    United Air Lines Inc.
 9:      DL     41683        28.87165     0.11863350     Delta Air Lines Inc.
10:      MQ     18559        27.21327     0.14294951                Envoy Air
11:      VX      4797        26.31478     0.10298103           Virgin America
12:      AA     26302        26.15915     0.11539046   American Airlines Inc.
13:      AS       574        25.48955     0.10627178     Alaska Airlines Inc.
14:      US     16750        16.78149     0.08226866          US Airways Inc.</code></pre>
</div>
</div>
</section>
<section id="–µ—Ç–∞–ø-5-–∞–Ω–∞–ª—ñ–∑-–∑–∞-–∞–µ—Ä–æ–ø–æ—Ä—Ç–∞–º–∏" class="level4">
<h4 class="anchored" data-anchor-id="–µ—Ç–∞–ø-5-–∞–Ω–∞–ª—ñ–∑-–∑–∞-–∞–µ—Ä–æ–ø–æ—Ä—Ç–∞–º–∏"><strong>–ï—Ç–∞–ø 5: –ê–Ω–∞–ª—ñ–∑ –∑–∞ –∞–µ—Ä–æ–ø–æ—Ä—Ç–∞–º–∏</strong></h4>
<ul>
<li>–î–ª—è –∫–æ–∂–Ω–æ–≥–æ –∞–µ—Ä–æ–ø–æ—Ä—Ç—É –≤–∏–ª—å–æ—Ç—É (<code>origin</code>) –æ–±—á–∏—Å–ª—ñ—Ç—å:
<ul>
<li>—Å–µ—Ä–µ–¥–Ω—î –∑–∞–ø—ñ–∑–Ω–µ–Ω–Ω—è –≤–∏–ª—å–æ—Ç—É (<code>dep_delay</code>),</li>
<li>–∫—ñ–ª—å–∫—ñ—Å—Ç—å —É–Ω—ñ–∫–∞–ª—å–Ω–∏—Ö –∞–≤—ñ–∞–∫–æ–º–ø–∞–Ω—ñ–π.</li>
</ul></li>
<li>–í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ <code>.SD</code> —Ç–∞ <code>.SDcols</code>, —è–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ.</li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a><span class="co"># avarage of of deley</span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>airport_analysis <span class="ot">&lt;-</span> flights[, .(</span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>  <span class="at">avg_dep_delay =</span> <span class="fu">mean</span>(dep_delay, <span class="at">na.rm =</span> <span class="cn">TRUE</span>),</span>
<span id="cb61-4"><a href="#cb61-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># uniqueN() - fast data.table function of uniqe meanings</span></span>
<span id="cb61-5"><a href="#cb61-5" aria-hidden="true" tabindex="-1"></a>  <span class="at">n_unique_carriers =</span> <span class="fu">uniqueN</span>(carrier)</span>
<span id="cb61-6"><a href="#cb61-6" aria-hidden="true" tabindex="-1"></a>), by <span class="ot">=</span> origin]</span>
<span id="cb61-7"><a href="#cb61-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-8"><a href="#cb61-8" aria-hidden="true" tabindex="-1"></a><span class="fu">setorder</span>(airport_analysis, <span class="sc">-</span>avg_dep_delay)</span>
<span id="cb61-9"><a href="#cb61-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb61-10"><a href="#cb61-10" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(<span class="st">"analize of airports (from the biggest deley):"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "analize of airports (from the biggest deley):"</code></pre>
</div>
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(airport_analysis)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>   origin avg_dep_delay n_unique_carriers
   &lt;char&gt;         &lt;num&gt;             &lt;int&gt;
1:    EWR      15.21248                11
2:    JFK      11.44617                 9
3:    LGA      10.60500                12</code></pre>
</div>
</div>
</section>
<section id="–µ—Ç–∞–ø-6-–≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è-–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ" class="level4">
<h4 class="anchored" data-anchor-id="–µ—Ç–∞–ø-6-–≤—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è-–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ"><strong>–ï—Ç–∞–ø 6: –í—ñ–∑—É–∞–ª—ñ–∑–∞—Ü—ñ—è (–æ–ø—Ü—ñ–æ–Ω–∞–ª—å–Ω–æ)</strong></h4>
<ul>
<li>–ü–µ—Ä–µ—Ç–≤–æ—Ä—ñ—Ç—å <code>carrier_performance</code> –Ω–∞ <code>data.frame</code> —á–µ—Ä–µ–∑ <code>setDF()</code>.</li>
<li>–ü–æ–±—É–¥—É–π—Ç–µ –≥—Ä–∞—Ñ—ñ–∫ —Å–µ—Ä–µ–¥–Ω—å–æ–≥–æ –∑–∞–ø—ñ–∑–Ω–µ–Ω–Ω—è –∑–∞ –∞–≤—ñ–∞–∫–æ–º–ø–∞–Ω—ñ—è–º–∏ (—á–µ—Ä–µ–∑ <code>ggplot2</code>).</li>
</ul>
<div class="cell">
<details class="code-fold">
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggplot2)</span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a><span class="co"># change carrier_performance to data.frame</span></span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a><span class="fu">setDF</span>(carrier_performance)</span>
<span id="cb65-5"><a href="#cb65-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb65-6"><a href="#cb65-6" aria-hidden="true" tabindex="-1"></a><span class="co"># graphic build</span></span>
<span id="cb65-7"><a href="#cb65-7" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(carrier_performance, </span>
<span id="cb65-8"><a href="#cb65-8" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> <span class="fu">reorder</span>(name, avg_total_delay), </span>
<span id="cb65-9"><a href="#cb65-9" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> avg_total_delay, </span>
<span id="cb65-10"><a href="#cb65-10" aria-hidden="true" tabindex="-1"></a>           <span class="at">fill =</span> delay_fraction)) <span class="sc">+</span></span>
<span id="cb65-11"><a href="#cb65-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_col</span>(<span class="at">color =</span> <span class="st">"black"</span>, <span class="at">alpha =</span> <span class="fl">0.8</span>) <span class="sc">+</span></span>
<span id="cb65-12"><a href="#cb65-12" aria-hidden="true" tabindex="-1"></a>  <span class="co"># exchange coordinates</span></span>
<span id="cb65-13"><a href="#cb65-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">coord_flip</span>() <span class="sc">+</span></span>
<span id="cb65-14"><a href="#cb65-14" aria-hidden="true" tabindex="-1"></a>  <span class="fu">scale_fill_gradient</span>(<span class="at">low =</span> <span class="st">"#b2e067"</span>, <span class="at">high =</span> <span class="st">"#e03b3b"</span>, <span class="at">name =</span> <span class="st">"part of reises</span><span class="sc">\n</span><span class="st">(deley &gt; 60 min)"</span>) <span class="sc">+</span></span>
<span id="cb65-15"><a href="#cb65-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(</span>
<span id="cb65-16"><a href="#cb65-16" aria-hidden="true" tabindex="-1"></a>    <span class="at">title =</span> <span class="st">"average of deley (2014)"</span>,</span>
<span id="cb65-17"><a href="#cb65-17" aria-hidden="true" tabindex="-1"></a>    <span class="at">x =</span> <span class="st">"airlaines"</span>,</span>
<span id="cb65-18"><a href="#cb65-18" aria-hidden="true" tabindex="-1"></a>    <span class="at">y =</span> <span class="st">"avarage deley (min)"</span></span>
<span id="cb65-19"><a href="#cb65-19" aria-hidden="true" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb65-20"><a href="#cb65-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_minimal</span>(<span class="at">base_size =</span> <span class="dv">12</span>) <span class="sc">+</span></span>
<span id="cb65-21"><a href="#cb65-21" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme</span>(</span>
<span id="cb65-22"><a href="#cb65-22" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb65-23"><a href="#cb65-23" aria-hidden="true" tabindex="-1"></a>    <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">hjust =</span> <span class="fl">0.5</span>),</span>
<span id="cb65-24"><a href="#cb65-24" aria-hidden="true" tabindex="-1"></a>    <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>)</span>
<span id="cb65-25"><a href="#cb65-25" aria-hidden="true" tabindex="-1"></a>  )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="lab_6_files/figure-html/unnamed-chunk-31-1.png" class="img-fluid figure-img" width="672"></p>
</figure>
</div>
</div>
</div>
<hr>
</section>
</section>
<section id="—Ç–µ—Ö–Ω—ñ—á–Ω—ñ-–≤–∏–º–æ–≥–∏" class="level3">
<h3 class="anchored" data-anchor-id="—Ç–µ—Ö–Ω—ñ—á–Ω—ñ-–≤–∏–º–æ–≥–∏">üí° –¢–µ—Ö–Ω—ñ—á–Ω—ñ –≤–∏–º–æ–≥–∏</h3>
<ul>
<li>–£–≤–µ—Å—å –∞–Ω–∞–ª—ñ–∑ –º–∞—î –±—É—Ç–∏ –≤–∏–∫–æ–Ω–∞–Ω–∏–π <strong>–≤–∏–∫–ª—é—á–Ω–æ —á–µ—Ä–µ–∑ <code>data.table</code></strong>.</li>
<li><strong>–ó–∞–±–æ—Ä–æ–Ω–µ–Ω–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ <code>dplyr</code>, <code>tidyr</code>, <code>%&gt;%</code></strong> –¥–ª—è –º–∞–Ω—ñ–ø—É–ª—è—Ü—ñ–π –∑ –¥–∞–Ω–∏–º–∏.</li>
<li>–£—Å—ñ —Ñ–∞–π–ª–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è –∑ –ø–∞–ø–∫–∏ <code>data/</code>.</li>
<li>–ö–æ–Ω–≤–µ—î—Ä –º–∞—î –±—É—Ç–∏ <strong>–≤—ñ–¥—Ç–≤–æ—Ä—é–≤–∞–Ω–∏–º</strong> —Ç–∞ <strong>–ø–∞–º‚Äô—è—Ç—å-–µ—Ñ–µ–∫—Ç–∏–≤–Ω–∏–º</strong>.</li>
</ul>
<hr style="border: 1px solid #ddd; margin: 30px 0 10px 0;">
<footer style="text-align: center; font-size: 0.9em; color: #666; padding: 15px; background: #f9f9f9; border-top: 1px solid #eee; margin-top: 20px;">
  <p><strong>–í–∏–∫–æ–Ω–∞–≤(–ª–∞): –ú–∞—Ä–∏–Ω—á–µ–Ω–∫–æ –í–∞–ª–µ—Ä—ñ—è –í—ñ—Ç–∞–ª—ñ—ó–≤–Ω–∞</strong> | –ì—Ä—É–ø–∞: <strong>–ö–Ü-24-1–º</strong> | –í–∏–∫–ª–∞–¥–∞—á: –°–∏–¥–æ—Ä–µ–Ω–∫–æ –í.–ú.</p>
  <p>–ö—Ä–µ–º–µ–Ω—á—É—Ü—å–∫–∏–π –Ω–∞—Ü—ñ–æ–Ω–∞–ª—å–Ω–∏–π —É–Ω—ñ–≤–µ—Ä—Å–∏—Ç–µ—Ç —ñ–º–µ–Ω—ñ –ú–∏—Ö–∞–π–ª–∞ –û—Å—Ç—Ä–æ–≥—Ä–∞–¥—Å—å–∫–æ–≥–æ ¬© 2025</p>
</footer>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "Óßã";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>